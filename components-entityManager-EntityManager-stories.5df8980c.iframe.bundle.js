/*! For license information please see components-entityManager-EntityManager-stories.5df8980c.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[683],{"./src/components/entityManager/EntityManager.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DestructionReasonsManager:()=>DestructionReasonsManager,__namedExportsOrder:()=>__namedExportsOrder,default:()=>EntityManager_stories});var react=__webpack_require__("./node_modules/react/index.js"),Table=__webpack_require__("./src/components/Table.tsx"),Input=__webpack_require__("./src/components/forms/Input.tsx"),BlueButton=__webpack_require__("./src/components/buttons/BlueButton.tsx"),xstate_react_esm=__webpack_require__("./node_modules/@xstate/react/dist/xstate-react.esm.js"),Success=__webpack_require__("./src/components/notifications/Success.tsx"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),WhiteButton=__webpack_require__("./src/components/buttons/WhiteButton.tsx"),PinkButton=__webpack_require__("./src/components/buttons/PinkButton.tsx"),LoadingSpinner=__webpack_require__("./src/components/icons/LoadingSpinner.tsx"),CustomReactSelect=__webpack_require__("./src/components/forms/CustomReactSelect.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function SelectEntityRow(_ref){let{value,valueFieldOptions,onChange,dataTestId}=_ref;return(0,jsx_runtime.jsx)(Table.nA,{colSpan:2,children:(0,jsx_runtime.jsx)(CustomReactSelect.A,{handleChange:value=>{onChange(value.value)},value,dataTestId,emptyOption:!0,options:valueFieldOptions.map((option=>({value:option,label:option})))})})}try{SelectEntityRow.displayName="SelectEntityRow",SelectEntityRow.__docgenInfo={description:"",displayName:"SelectEntityRow",props:{value:{defaultValue:null,description:"The value of the field of the entity displayed in row",name:"value",required:!0,type:{name:"string"}},valueFieldOptions:{defaultValue:null,description:"Options for Select entity",name:"valueFieldOptions",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"Callback handler for when the dropbox changes value\n@param entity the row entity\n@param selected value in dropbox",name:"onChange",required:!0,type:{name:"(value: string) => void"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/entityManager/SelectEntityRow.tsx#SelectEntityRow"]={docgenInfo:SelectEntityRow.__docgenInfo,name:"SelectEntityRow",path:"src/components/entityManager/SelectEntityRow.tsx#SelectEntityRow"})}catch(__react_docgen_typescript_loader_error){}function BooleanEntityRow(_ref){let{value,disable,onChange}=_ref;return(0,jsx_runtime.jsx)(Table.nA,{colSpan:2,children:(0,jsx_runtime.jsx)(Input.p,{type:"checkbox",disabled:disable,defaultChecked:value,onChange:e=>{onChange(e.target.checked)}})})}try{BooleanEntityRow.displayName="BooleanEntityRow",BooleanEntityRow.__docgenInfo={description:"",displayName:"BooleanEntityRow",props:{value:{defaultValue:null,description:"The value to be displayed",name:"value",required:!0,type:{name:"boolean"}},disable:{defaultValue:null,description:"Should this row be disabled right now",name:"disable",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"Callback handler for when the checkbox changes value\n@param entity the row entity\n@param enabled true if the checkbox is checked, false otherwise",name:"onChange",required:!0,type:{name:"(enabled: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/entityManager/BooleanEntityRow.tsx#BooleanEntityRow"]={docgenInfo:BooleanEntityRow.__docgenInfo,name:"BooleanEntityRow",path:"src/components/entityManager/BooleanEntityRow.tsx#BooleanEntityRow"})}catch(__react_docgen_typescript_loader_error){}var xstate_esm=__webpack_require__("./node_modules/xstate/dist/xstate.esm.js"),log_c48e8ab0_esm=__webpack_require__("./node_modules/xstate/dist/log-c48e8ab0.esm.js");var stan=__webpack_require__("./src/types/stan.ts"),Warning=__webpack_require__("./src/components/notifications/Warning.tsx"),xstate_actors_esm=__webpack_require__("./node_modules/xstate/actors/dist/xstate-actors.esm.js");function EntityManager(_ref){let{initialEntities,displayKeyColumnName,alternateKeyColumnName,valueColumnName,valueFieldComponentInfo,onCreate,onChangeValue,displayKeyFieldAsDropDown=!1,extraDisplayColumnName}=_ref;const entityManagerMachine=react.useMemo((()=>function createEntityManagerMachine(entities,keyField,valueField){return(0,xstate_esm.Op)({types:{},context:{entities,keyField,valueField,successMessage:null,error:null},id:"entityManager",initial:"ready",states:{ready:{on:{VALUE_CHANGE:"loading.valueChanged",DRAFT_NEW_ENTITY:"draftCreation",SELECT_ENTITY:{actions:"assignSelectedEntity"},EXTRA_PROPERTY_UPDATE_VALUE:"loading.updatingExtraProperty",EXTRA_PROPERTY_DRAFT_VALUE:{actions:"draftExtraPropertyValue"}}},draftCreation:{on:{DISCARD_DRAFT:"ready",CREATE_NEW_ENTITY:"loading.creatingEntity",SELECT_ENTITY:{actions:"assignSelectedEntity"}}},loading:{entry:["clearMessages"],initial:"valueChanged",states:{valueChanged:{invoke:{src:"valueChanged",input:_ref=>{let{event}=_ref;return{...event}},id:"valueChanged",onDone:{target:"#entityManager.ready",actions:"updateEntity"},onError:{target:"#entityManager.ready",actions:"assignErrorMessage"}}},creatingEntity:{invoke:{id:"createEntity",src:"createEntity",input:_ref2=>{let{event}=_ref2;return{...event}},onDone:{target:"#entityManager.ready",actions:"addEntity"},onError:{target:"#entityManager.ready",actions:"assignErrorMessage"}}},updatingExtraProperty:{invoke:{id:"updateExtraProperty",src:"updateExtraProperty",input:_ref3=>{let{event}=_ref3;return{...event}},onDone:{target:"#entityManager.ready",actions:"updateExtraProperty"},onError:{target:"#entityManager.ready",actions:"assignErrorMessage"}}}}}}},{actions:{addEntity:(0,log_c48e8ab0_esm.a)((_ref4=>{let{context,event}=_ref4;return"xstate.done.actor.createEntity"!==event.type?{}:{successMessage:"Saved",entities:[...context.entities,event.output]}})),assignErrorMessage:(0,log_c48e8ab0_esm.a)((_ref5=>{let{context,event}=_ref5;return"xstate.error.actor.createEntity"!==event.type&&"xstate.error.actor.valueChanged"!==event.type&&"xstate.error.actor.updateExtraProperty"!==event.type?{}:{error:event.error}})),assignSelectedEntity:(0,log_c48e8ab0_esm.a)((_ref6=>{let{event}=_ref6;return"SELECT_ENTITY"!==event.type?{}:{selectedEntity:event.entity}})),clearMessages:(0,log_c48e8ab0_esm.a)((()=>({successMessage:null,error:null}))),updateEntity:(0,log_c48e8ab0_esm.a)((_ref7=>{let{context,event}=_ref7;return"xstate.done.actor.valueChanged"===event.type&&context.valueField?{successMessage:"boolean"==typeof event.output[context.valueField]?'"'.concat(event.output[context.keyField],'" ').concat(event.output[context.valueField]?"enabled":"disabled"):'"'.concat(event.output[context.keyField],'" - ').concat(context.valueField," changed to ").concat(event.output[context.valueField]),entities:context.entities.map((entity=>entity[context.keyField]===event.output[context.keyField]?event.output:entity))}:{}})),draftExtraPropertyValue:(0,log_c48e8ab0_esm.a)((_ref8=>{let{context,event}=_ref8;return"EXTRA_PROPERTY_DRAFT_VALUE"!==event.type?{}:{entities:context.entities.map((entity=>entity[context.keyField]===event.entity[context.keyField]?event.entity:entity))}})),updateExtraProperty:(0,log_c48e8ab0_esm.a)((_ref9=>{let{context,event}=_ref9;return"xstate.done.actor.updateExtraProperty"!==event.type?{}:{successMessage:'Changes for "'.concat(event.output[context.keyField],'" saved'),entities:context.entities.map((entity=>entity[context.keyField]===event.output[context.keyField]?event.output:entity))}}))}})}(initialEntities,displayKeyColumnName,valueColumnName).provide({actors:{createEntity:(0,xstate_actors_esm.Sx)((_ref2=>{let{input}=_ref2;return"CREATE_NEW_ENTITY"!==input.type?Promise.reject():onCreate?onCreate(input.value,input.extraValue):Promise.reject()})),valueChanged:(0,xstate_actors_esm.Sx)((_ref3=>{let{input}=_ref3;return"VALUE_CHANGE"!==input.type?Promise.reject():onChangeValue?onChangeValue(input.entity,input.value):Promise.reject()})),updateExtraProperty:(0,xstate_actors_esm.Sx)((_ref4=>{let{input}=_ref4;return"EXTRA_PROPERTY_UPDATE_VALUE"===input.type&&extraDisplayColumnName&&extraDisplayColumnName.onChange?extraDisplayColumnName.onChange(input.value,input.extraValue):Promise.reject()}))}})),[initialEntities,displayKeyColumnName,valueColumnName,onChangeValue,onCreate,extraDisplayColumnName]),[current,send]=(0,xstate_react_esm.zl)(entityManagerMachine),[draftValue,setDraftValue]=(0,react.useState)(""),{entities,successMessage,error,selectedEntity}=current.context,isLoading=current.matches("loading"),isDrafting=current.matches("draftCreation"),isCreatingEntity=current.matches({loading:"creatingEntity"}),showDraft=isDrafting||isCreatingEntity,orderedEntities=react.useMemo((()=>[...entities].sort(((a,b)=>(0,stan.PC)(String(a[displayKeyColumnName]),String(b[displayKeyColumnName]))))),[entities,displayKeyColumnName]),inputRef=(0,react.useRef)(null),extraInputRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{var _inputRef$current;current.matches("draftCreation")&&(null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current||_inputRef$current.select())}),[current]);const handleOnSave=(0,react.useCallback)((()=>{const value=draftValue.trim();if(""===value)return;let extraValue;var _extraInputRef$curren;extraDisplayColumnName&&(extraValue=null===(_extraInputRef$curren=extraInputRef.current)||void 0===_extraInputRef$curren?void 0:_extraInputRef$curren.value.trim());send({type:"CREATE_NEW_ENTITY",value,extraValue}),setDraftValue("")}),[draftValue,setDraftValue,send,extraDisplayColumnName]),handleOnRowChange=(0,react.useCallback)(((entity,value)=>{entity&&send({type:"VALUE_CHANGE",entity,value})}),[send]),handleEntitySelection=(0,react.useCallback)((value=>{const selectedValue=value;send({type:"SELECT_ENTITY",entity:selectedValue.value.length>0?orderedEntities.find((entity=>entity[displayKeyColumnName]===selectedValue.value)):void 0})}),[send,displayKeyColumnName,orderedEntities]),handleOnInputChange=e=>setDraftValue(e.target.value),handleOnCancel=()=>send({type:"DISCARD_DRAFT"}),handleExtraValueUpdate=(0,react.useCallback)(((keyValue,extraValue)=>{send({type:"EXTRA_PROPERTY_UPDATE_VALUE",value:keyValue,extraValue})}),[send]),handleOnChangeForExtraDisplayColumn=(0,react.useCallback)(((entity,extraValue)=>{extraDisplayColumnName&&send({type:"EXTRA_PROPERTY_DRAFT_VALUE",entity:{...entity,[extraDisplayColumnName.value]:extraValue}})}),[send,extraDisplayColumnName]),getValueFieldComponent=(valueFieldComponentInfo,entity,keyColumn,valueColumn)=>{switch(valueFieldComponentInfo.type){case"SELECT":var _valueFieldComponentI;return(0,jsx_runtime.jsx)(SelectEntityRow,{value:entity?String(entity[valueColumn]):"",valueFieldOptions:null!==(_valueFieldComponentI=valueFieldComponentInfo.valueOptions)&&void 0!==_valueFieldComponentI?_valueFieldComponentI:[],onChange:val=>handleOnRowChange(entity,val),dataTestId:entity?"".concat(entity[keyColumn],"-select"):""},keyColumn);case"CHECKBOX":return entity?(0,jsx_runtime.jsx)(BooleanEntityRow,{disable:isLoading||isDrafting,value:Boolean(entity[valueColumn]),onChange:enabled=>handleOnRowChange(entity,enabled)}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});default:return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}};return(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[successMessage&&(0,jsx_runtime.jsx)(Success.A,{message:successMessage}),error&&(0,jsx_runtime.jsx)(Warning.A,{message:"Save Failed",error}),(0,jsx_runtime.jsxs)(Table.Ay,{children:[(0,jsx_runtime.jsx)(Table.nd,{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)(Table.A0,{colSpan:2,children:displayKeyColumnName}),extraDisplayColumnName&&(0,jsx_runtime.jsx)(Table.A0,{colSpan:2,children:extraDisplayColumnName.label}),(0,jsx_runtime.jsx)(Table.A0,{colSpan:2,children:valueColumnName})]})}),(0,jsx_runtime.jsxs)(Table.BF,{children:[displayKeyFieldAsDropDown?(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)(CustomReactSelect.A,{dataTestId:"keyFieldSelect",options:orderedEntities.map((entity=>({value:String(entity[displayKeyColumnName]),label:String(entity[displayKeyColumnName])}))),value:selectedEntity?String(selectedEntity[displayKeyColumnName]):"",handleChange:handleEntitySelection,className:"p-4"}),valueFieldComponentInfo&&getValueFieldComponent(valueFieldComponentInfo,selectedEntity,String(displayKeyColumnName),String(valueColumnName))]}):orderedEntities.map(((entity,indx)=>(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)(Table.nA,{colSpan:2,children:entity[displayKeyColumnName]}),extraDisplayColumnName&&(0,jsx_runtime.jsx)(Table.nA,{colSpan:2,children:extraDisplayColumnName.onChange?(0,jsx_runtime.jsx)(Input.p,{type:"text",placeholder:extraDisplayColumnName.extraFieldPlaceholder,onKeyDown:e=>{"Enter"===e.key&&(handleExtraValueUpdate(String(entity[displayKeyColumnName]),e.currentTarget.value),e.currentTarget.blur())},onChange:e=>{handleOnChangeForExtraDisplayColumn(entity,e.target.value)},value:String(entity[extraDisplayColumnName.value])}):entity[extraDisplayColumnName.value]}),valueFieldComponentInfo&&getValueFieldComponent(valueFieldComponentInfo,entity,String(displayKeyColumnName),String(valueColumnName))]},indx))),showDraft&&(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)(Table.nA,{colSpan:2,children:(0,jsx_runtime.jsx)(Input.p,{type:"text",placeholder:extraDisplayColumnName?extraDisplayColumnName.keyFieldPlaceholder:"",ref:inputRef,"data-testid":"input-field",disabled:isCreatingEntity,onChange:handleOnInputChange,onKeyDown:e=>{"Enter"===e.key?handleOnSave():"Escape"===e.key&&handleOnCancel()}})}),extraDisplayColumnName&&(0,jsx_runtime.jsx)(Table.nA,{colSpan:2,children:(0,jsx_runtime.jsx)(Input.p,{type:"text",placeholder:extraDisplayColumnName.extraFieldPlaceholder,ref:extraInputRef,"data-testid":"extra-input-field",disabled:isCreatingEntity,onKeyDown:e=>{"Enter"===e.key?handleOnSave():"Escape"===e.key&&handleOnCancel()}})})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row justify-end items-center space-x-3",children:[isLoading&&(0,jsx_runtime.jsx)(LoadingSpinner.A,{}),onCreate&&!showDraft&&(0,jsx_runtime.jsxs)(BlueButton.A,{disabled:isLoading,onClick:()=>send({type:"DRAFT_NEW_ENTITY"}),children:["+ Add"," ",(0,lodash.capitalize)(alternateKeyColumnName?alternateKeyColumnName.toString():displayKeyColumnName.toString())]}),showDraft&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PinkButton.A,{disabled:isCreatingEntity,onClick:handleOnCancel,children:"Cancel"}),(0,jsx_runtime.jsx)(WhiteButton.A,{disabled:isCreatingEntity,onClick:handleOnSave,children:"Save"})]})]})]})}try{EntityManager.displayName="EntityManager",EntityManager.__docgenInfo={description:"",displayName:"EntityManager",props:{initialEntities:{defaultValue:null,description:"The initial entities to display in the table",name:"initialEntities",required:!0,type:{name:"E[]"}},displayKeyColumnName:{defaultValue:null,description:"Which property of the entity should be used to display its value as key",name:"displayKeyColumnName",required:!0,type:{name:"string | number | symbol"}},alternateKeyColumnName:{defaultValue:null,description:"This can be used to display a name (on table column and add button) different from displayColumnName (which is a field name in graphql schema).\nOne use case is to accommodate changes in field names in future (like HMDMC to HuMFre)\nbecause schema fields cannot be changed as it can bring major impact on db",name:"alternateKeyColumnName",required:!1,type:{name:"string"}},valueColumnName:{defaultValue:null,description:"Which property of the entity should be used to display as value",name:"valueColumnName",required:!1,type:{name:"string | number | symbol"}},valueFieldComponentInfo:{defaultValue:null,description:"*\nHow to display in Value field",name:"valueFieldComponentInfo",required:!1,type:{name:"ValueFieldComponentInfo"}},onCreate:{defaultValue:null,description:"Callback when a new entity is to be created\n@param value the value of the new entity",name:"onCreate",required:!1,type:{name:"((value: string, extraValue?: string) => Promise<E>)"}},onChangeValue:{defaultValue:null,description:"Callback when value changes",name:"onChangeValue",required:!1,type:{name:"((entity: E, value: EntityValueType) => Promise<E>)"}},displayKeyFieldAsDropDown:{defaultValue:{value:"false"},description:"Display key field as a dropdown",name:"displayKeyFieldAsDropDown",required:!1,type:{name:"boolean"}},extraDisplayColumnName:{defaultValue:{value:"undefined"},description:"Extra property of the entity to display in the table",name:"extraDisplayColumnName",required:!1,type:{name:"ExtraEntityColumn<E>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/entityManager/EntityManager.tsx#EntityManager"]={docgenInfo:EntityManager.__docgenInfo,name:"EntityManager",path:"src/components/entityManager/EntityManager.tsx#EntityManager"})}catch(__react_docgen_typescript_loader_error){}var sdk=__webpack_require__("./src/lib/sdk.ts");var fishery=__webpack_require__("./node_modules/fishery/dist/fishery.mjs"),esm=__webpack_require__("./node_modules/@faker-js/faker/dist/esm/index.mjs");const destructionReasonFactory=fishery.$.define((_ref=>{var _params$id,_params$text,_params$enabled;let{params,sequence}=_ref;return{__typename:"DestructionReason",id:null!==(_params$id=params.id)&&void 0!==_params$id?_params$id:sequence,text:null!==(_params$text=params.text)&&void 0!==_params$text?_params$text:esm.Jb.lorem.words(),enabled:null===(_params$enabled=params.enabled)||void 0===_params$enabled||_params$enabled}})),repositories_destructionReasonRepository=function createSessionStorageRepository(storageKey,primaryKey,seeds){function all(){const allJSON=sessionStorage.getItem(storageKey);let entities=[];return allJSON&&(entities=JSON.parse(allJSON)),entities}return sessionStorage.setItem(storageKey,JSON.stringify(seeds)),{find:function find(key,value){var _all$find;return null!==(_all$find=all().find((entity=>entity[key]===value)))&&void 0!==_all$find?_all$find:null},findAll:function findAll(){return all()},save:function save(entity){const newEntities=all().filter((e=>e[primaryKey]!==entity[primaryKey]));return newEntities.push(entity),sessionStorage.setItem(storageKey,JSON.stringify(newEntities)),entity}}}("DESTRUCTION_REASONS","id",[destructionReasonFactory.build({text:"No tissue remaining in block."}),destructionReasonFactory.build({text:"Operator error."}),destructionReasonFactory.build({text:"Experiment complete."}),destructionReasonFactory.build({text:"Samples were haunted.",enabled:!1})]),EntityManager_stories={title:"EntityManager",component:EntityManager},DestructionReasonsManager=()=>(0,jsx_runtime.jsx)(EntityManager,{initialEntities:repositories_destructionReasonRepository.findAll(),displayKeyColumnName:"text",valueColumnName:"enabled",onChangeValue:(entity,value)=>{const enabled="boolean"==typeof value&&value;return sdk.Uc.SetDestructionReasonEnabled({text:entity.text,enabled}).then((res=>res.setDestructionReasonEnabled))},onCreate:text=>sdk.Uc.AddDestructionReason({text}).then((res=>res.addDestructionReason)),valueFieldComponentInfo:{type:"CHECKBOX"}});DestructionReasonsManager.parameters={...DestructionReasonsManager.parameters,docs:{...DestructionReasonsManager.parameters?.docs,source:{originalSource:"() => {\n  return <EntityManager initialEntities={destructionReasonRepository.findAll()} displayKeyColumnName={'text'} valueColumnName={'enabled'} onChangeValue={(entity, value) => {\n    const enabled = typeof value === 'boolean' ? value : false;\n    return stanCore.SetDestructionReasonEnabled({\n      text: entity.text,\n      enabled\n    }).then(res => res.setDestructionReasonEnabled);\n  }} onCreate={text => stanCore.AddDestructionReason({\n    text\n  }).then(res => res.addDestructionReason)} valueFieldComponentInfo={{\n    type: 'CHECKBOX'\n  }} />;\n}",...DestructionReasonsManager.parameters?.docs?.source}}};const __namedExportsOrder=["DestructionReasonsManager"]},"./node_modules/js-cookie/dist/js.cookie.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function assign(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)target[key]=source[key]}return target}__webpack_require__.d(__webpack_exports__,{A:()=>api});var api=function init(converter,defaultAttributes){function set(name,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=assign({},defaultAttributes,attributes)).expires&&(attributes.expires=new Date(Date.now()+864e5*attributes.expires)),attributes.expires&&(attributes.expires=attributes.expires.toUTCString()),name=encodeURIComponent(name).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=name+"="+converter.write(value,name)+stringifiedAttributes}}return Object.create({set,get:function get(name){if("undefined"!=typeof document&&(!arguments.length||name)){for(var cookies=document.cookie?document.cookie.split("; "):[],jar={},i=0;i<cookies.length;i++){var parts=cookies[i].split("="),value=parts.slice(1).join("=");try{var found=decodeURIComponent(parts[0]);if(jar[found]=converter.read(value,found),name===found)break}catch(e){}}return name?jar[name]:jar}},remove:function(name,attributes){set(name,"",assign({},attributes,{expires:-1}))},withAttributes:function(attributes){return init(this.converter,assign({},this.attributes,attributes))},withConverter:function(converter){return init(assign({},this.converter,converter),this.attributes)}},{attributes:{value:Object.freeze(defaultAttributes)},converter:{value:Object.freeze(converter)}})}({read:function(value){return'"'===value[0]&&(value=value.slice(1,-1)),value.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(value){return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},"./src/components/buttons/BlueButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/buttons/Button.tsx"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const BlueButton=_ref=>{let{children,className,action="primary",...rest}=_ref;const buttonClasses=classnames__WEBPACK_IMPORTED_MODULE_2___default()({"text-white bg-sdb-400 shadow-sm hover:bg-sdb focus:border-sdb focus:shadow-outline-sdb active:bg-sdb-600":"primary"===action,"text-sdb-400 border border-sdb-400 shadow-sm bg-transparent hover:bg-gray-100 focus:border-sdb-400 focus:shadow-outline-sdb active:bg-gray-200":"secondary"===action,"text-sdb-400 underline bg-white hover:bg-gray-100 focus:border-sdb-400 focus:shadow-outline-sdb active:bg-gray-200":"tertiary"===action},className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_1__.A,{...rest,className:buttonClasses,children})},__WEBPACK_DEFAULT_EXPORT__=BlueButton;try{BlueButton.displayName="BlueButton",BlueButton.__docgenInfo={description:"",displayName:"BlueButton",props:{loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},action:{defaultValue:{value:"primary"},description:"",name:"action",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"tertiary"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/buttons/BlueButton.tsx#BlueButton"]={docgenInfo:BlueButton.__docgenInfo,name:"BlueButton",path:"src/components/buttons/BlueButton.tsx#BlueButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/forms/CustomReactSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>forms_CustomReactSelect});var react=__webpack_require__("./node_modules/react/index.js"),Label=__webpack_require__("./src/components/forms/Label.tsx"),formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),components_forms=__webpack_require__("./src/components/forms/index.tsx"),index_a301f526_esm=__webpack_require__("./node_modules/react-select/dist/index-a301f526.esm.js"),react_select_esm=__webpack_require__("./node_modules/react-select/dist/react-select.esm.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const AddIcon=props=>(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",transform:"rotate(45)",...props,children:(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),icons_AddIcon=AddIcon;try{AddIcon.displayName="AddIcon",AddIcon.__docgenInfo={description:"",displayName:"AddIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/AddIcon.tsx#AddIcon"]={docgenInfo:AddIcon.__docgenInfo,name:"AddIcon",path:"src/components/icons/AddIcon.tsx#AddIcon"})}catch(__react_docgen_typescript_loader_error){}const AddButton=props=>{var _ref;return(0,jsx_runtime.jsx)("button",{...props,className:null!==(_ref="p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100 text-gray-400\n      hover:text-gray-600 disabled:text-gray-200 "+props.className)&&void 0!==_ref?_ref:"",children:(0,jsx_runtime.jsx)(icons_AddIcon,{className:"inline-block h-5 w-5"})})},buttons_AddButton=AddButton;try{AddButton.displayName="AddButton",AddButton.__docgenInfo={description:"",displayName:"AddButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/buttons/AddButton.tsx#AddButton"]={docgenInfo:AddButton.__docgenInfo,name:"AddButton",path:"src/components/buttons/AddButton.tsx#AddButton"})}catch(__react_docgen_typescript_loader_error){}const defaultValue=(options,value,isMulti)=>void 0===value?isMulti?[]:void 0:isMulti&&Array.isArray(value)?options?options.filter((option=>value.some((val=>val===option.label||val===option.value)))):[]:options.find((option=>option.label===value||option.value===value)),hasValueType=obj=>null!=obj&&(Array.isArray(obj)||"object"==typeof obj&&"value"in obj),NormalReactSelect=_ref=>{let{label,name,className,emptyOption=!1,options,value,placeholder,handleChange,handleBlur,dataTestId,isMulti=!1,fixedWidth,addButton,...props}=_ref;const onChangeValue=react.useCallback((value=>{hasValueType(value)&&(null==handleChange||handleChange(value))}),[handleChange]),onBlur=react.useCallback((value=>{hasValueType(value)&&(null==handleBlur||handleBlur(value))}),[handleBlur]),memoOptions=react.useMemo((()=>emptyOption?[{value:"",label:""},...options]:[...options]),[emptyOption,options]);return addButton&&(addButton.className=addButton.className?"col-span-1 ".concat(addButton.className):"col-span-1"),(0,jsx_runtime.jsxs)("div",{"data-testid":null!=dataTestId?dataTestId:"select-div",className:addButton?"grid grid-cols-7 grid-rows-1 ".concat(className):"".concat(className),children:[(0,jsx_runtime.jsx)(Label.A,{name:null!=label?label:"",className:addButton?"whitespace-nowrap col-span-6":"whitespace-nowrap",children:(0,jsx_runtime.jsx)(react_select_esm.Ay,{menuPosition:"fixed",name,onChange:val=>onChangeValue(val),onBlur:val=>onBlur(val),options:memoOptions,value:defaultValue(memoOptions,value,isMulti),isMulti,placeholder:null!=placeholder?placeholder:"",components:{Option:props=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(index_a301f526_esm.c.Option,{...props,className:"space-x-2",children:[props.isSelected&&(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:props.isSelected,onChange:()=>null}),(0,jsx_runtime.jsx)("label",{className:"".concat(props.isSelected?"mr-2":"ml-6 mr-2"),children:props.label})]})}),IndicatorSeparator:()=>null},...props,styles:{container:css=>fixedWidth?{...css,width:fixedWidth+"px"}:{...css},control:(baseStyles,state)=>({...baseStyles,borderColor:"1px solid ".concat("#7980B9"),boxShadow:state.isFocused?"0px 0px 2px ".concat("#7980B9"):"none","&:hover":{border:"1px solid ".concat("#7980B9"),boxShadow:"0px 0px 6px ".concat("#7980B9")},"input:focus":{boxShadow:"none"}}),menu:base=>({...base,width:"max-content",minWidth:"100%",zIndex:999}),option:(styles,_ref2)=>{let{isDisabled,label}=_ref2;return{...styles,backgroundColor:isDisabled?"gray":"#626167",color:"white",cursor:isDisabled?"not-allowed":"default","&:hover":{backgroundColor:isDisabled?"gray":"#4792E4"},height:0===(null==label?void 0:label.length)?"35px":styles.height,padding:"2px 2px 8px 8px"}}}})}),addButton&&(0,jsx_runtime.jsx)(buttons_AddButton,{"data-testid":addButton.dataTestId,className:addButton.className,onClick:addButton.onClick})]})},FormikReactSelect=_ref3=>{var _useFormikContext;let{label,name,className,emptyOption,isMulti,options,value,dataTestId,placeholder,handleChange,handleBlur,valueAsNumber,fixedWidth,...props}=_ref3;const{setFieldValue,setFieldTouched}=null!==(_useFormikContext=(0,formik_esm.j7)())&&void 0!==_useFormikContext?_useFormikContext:{},memoNewValue=react.useMemo((()=>valueAsNumber?options.find((option=>option.value===String(value)))?value+"":"":value),[value,valueAsNumber,options]),onChangeValue=react.useCallback((value=>{if(!hasValueType(value))return;if(!value)return;let val=Array.isArray(value)?value.map((val=>valueAsNumber?Number(val.value):val.value)):valueAsNumber?Number(value.value):value.value;name&&(null==setFieldValue||setFieldValue(name,val)),null==handleChange||handleChange(value)}),[setFieldValue,name,handleChange,valueAsNumber]),onBlur=react.useCallback((()=>{name&&setFieldTouched(name),null==handleBlur||handleBlur()}),[setFieldTouched,name,handleBlur]);return(0,jsx_runtime.jsxs)("div",{className:"".concat("block w-full rounded-md focus:outline-0  disabled:opacity-75 disabled:bg-gray-200 disabled:cursor-not-allowed"," ").concat(className),"data-testid":"form_select-div",children:[(0,jsx_runtime.jsx)(NormalReactSelect,{name,label,onChange:val=>onChangeValue(val),options,onBlur,emptyOption,dataTestId,placeholder,isMulti,value:memoNewValue,fixedWidth,...props}),name&&(0,jsx_runtime.jsx)(components_forms.sM,{name})]})},CustomReactSelect=_ref4=>{let{label,name,className,emptyOption,options,value,dataTestId,isMulti,fixedWidth,...props}=_ref4;return name?(0,jsx_runtime.jsx)(FormikReactSelect,{name,label,className,options,value,emptyOption,isMulti,dataTestId,fixedWidth,...props}):(0,jsx_runtime.jsx)(NormalReactSelect,{label,className,options,value,emptyOption,dataTestId,isMulti,fixedWidth,...props})},forms_CustomReactSelect=CustomReactSelect;try{NormalReactSelect.displayName="NormalReactSelect",NormalReactSelect.__docgenInfo={description:"",displayName:"NormalReactSelect",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Name of the HTML Input (optional - without this, no input will be rendered)",name:"name",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Sets a className attribute on the outer component",name:"className",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Array of options that populate the select menu",name:"options",required:!0,type:{name:"OptionType[]"}},emptyOption:{defaultValue:{value:"false"},description:"",name:"emptyOption",required:!1,type:{name:"boolean"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!1,type:{name:"((value: OptionType | OptionType[]) => void)"}},handleBlur:{defaultValue:null,description:"",name:"handleBlur",required:!1,type:{name:"((value?: OptionType | OptionType[]) => void)"}},placeholder:{defaultValue:null,description:"Placeholder for the select value",name:"placeholder",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string"}},isMulti:{defaultValue:{value:"false"},description:"Support multiple selected options",name:"isMulti",required:!1,type:{name:"boolean"}},valueAsNumber:{defaultValue:null,description:"",name:"valueAsNumber",required:!1,type:{name:"boolean"}},fixedWidth:{defaultValue:null,description:"",name:"fixedWidth",required:!1,type:{name:"number"}},addButton:{defaultValue:null,description:"",name:"addButton",required:!1,type:{name:"AddButtonProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/CustomReactSelect.tsx#NormalReactSelect"]={docgenInfo:NormalReactSelect.__docgenInfo,name:"NormalReactSelect",path:"src/components/forms/CustomReactSelect.tsx#NormalReactSelect"})}catch(__react_docgen_typescript_loader_error){}try{CustomReactSelect.displayName="CustomReactSelect",CustomReactSelect.__docgenInfo={description:"",displayName:"CustomReactSelect",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Name of the HTML Input (optional - without this, no input will be rendered)",name:"name",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Sets a className attribute on the outer component",name:"className",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Array of options that populate the select menu",name:"options",required:!0,type:{name:"OptionType[]"}},emptyOption:{defaultValue:{value:"false"},description:"",name:"emptyOption",required:!1,type:{name:"boolean"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!1,type:{name:"((value: OptionType | OptionType[]) => void)"}},handleBlur:{defaultValue:null,description:"",name:"handleBlur",required:!1,type:{name:"((value?: OptionType | OptionType[]) => void)"}},placeholder:{defaultValue:null,description:"Placeholder for the select value",name:"placeholder",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string"}},isMulti:{defaultValue:{value:"false"},description:"Support multiple selected options",name:"isMulti",required:!1,type:{name:"boolean"}},valueAsNumber:{defaultValue:null,description:"",name:"valueAsNumber",required:!1,type:{name:"boolean"}},fixedWidth:{defaultValue:null,description:"",name:"fixedWidth",required:!1,type:{name:"number"}},addButton:{defaultValue:null,description:"",name:"addButton",required:!1,type:{name:"AddButtonProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/CustomReactSelect.tsx#CustomReactSelect"]={docgenInfo:CustomReactSelect.__docgenInfo,name:"CustomReactSelect",path:"src/components/forms/CustomReactSelect.tsx#CustomReactSelect"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/forms/Input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>Input});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./src/components/forms/Label.tsx"),__webpack_require__("./src/components/forms/index.tsx"),__webpack_require__("./node_modules/classnames/index.js")),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const defaultInputClassNames="focus:ring-sdb-100 focus:border-sdb-100 block border-gray-300 rounded-md disabled:opacity-75 disabled:cursor-not-allowed";const Input=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((props,ref)=>{const inputClassNames=classnames__WEBPACK_IMPORTED_MODULE_3___default()({"w-full disabled:bg-gray-200":"checkbox"!==props.type||"radio"!==props.type},defaultInputClassNames);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref,className:inputClassNames,...props})}));try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"string"}},displayTag:{defaultValue:null,description:"",name:"displayTag",required:!1,type:{name:"string"}},info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/Input.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/components/forms/Input.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}},"./src/lib/sdk.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Uc:()=>stanCore});var graphql_request__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/graphql-request/build/esm/index.js"),js_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/js-cookie/dist/js.cookie.mjs"),_types_sdk__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/types/sdk.ts"));const graphQLClient=new graphql_request__WEBPACK_IMPORTED_MODULE_0__.l4("/graphql"),xsrf=js_cookie__WEBPACK_IMPORTED_MODULE_1__.A.get("XSRF-TOKEN");xsrf&&graphQLClient.setHeader("X-XSRF-TOKEN",xsrf);const stanCore=(0,_types_sdk__WEBPACK_IMPORTED_MODULE_3__.xMG)(graphQLClient)}}]);