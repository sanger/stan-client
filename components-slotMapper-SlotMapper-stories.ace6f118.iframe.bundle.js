"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[987],{"./src/components/slotMapper/SlotMapper.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return SlotMapper_stories}});var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Labware=__webpack_require__("./src/components/labware/Labware.tsx"),Pager=__webpack_require__("./src/components/pagination/Pager.tsx"),asyncToGenerator=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),Machine=__webpack_require__("./node_modules/xstate/es/Machine.js"),lib=__webpack_require__("./node_modules/@xstate/immer/lib/index.js"),sdk=__webpack_require__("./src/types/sdk.ts"),helpers=__webpack_require__("./src/lib/helpers.ts"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),labwareHelper=__webpack_require__("./src/lib/helpers/labwareHelper.ts");var _passFailsSlots,lib_sdk=__webpack_require__("./src/lib/sdk.ts"),colors=(0,helpers.Tw)(),machineConfig={actions:{assignInputLabware:(0,lib.f0)((function(ctx,e){"UPDATE_INPUT_LABWARE"===e.type&&(ctx.inputLabware=e.labware);var keys=Array.from(ctx.failedSlots.keys()).filter((function(key){return-1===ctx.inputLabware.findIndex((function(labware){return labware.barcode===key}))}));keys.forEach((function(key){return ctx.failedSlots.delete(key)})),(keys=Array.from(ctx.errors.keys()).filter((function(key){return-1===ctx.inputLabware.findIndex((function(labware){return labware.barcode===key}))}))).forEach((function(key){return ctx.errors.delete(key)})),ctx.slotCopyContent=ctx.slotCopyContent.filter((function(scc){return ctx.inputLabware.some((function(lw){return lw.barcode===scc.sourceBarcode}))}))})),assignOutputLabware:(0,lib.f0)((function(ctx,e){"UPDATE_OUTPUT_LABWARE"===e.type&&(ctx.outputLabware=e.labware)})),assignLabwareColors:(0,lib.f0)((function(ctx){ctx.inputLabware.forEach((function(lw){ctx.colorByBarcode.has(lw.barcode)||ctx.colorByBarcode.set(lw.barcode,colors.next().value)}))})),checkSlots:(0,lib.f0)((function(ctx){var inputLabwareBarcodes=(0,lodash.map)(ctx.inputLabware,"barcode");ctx.slotCopyContent=ctx.slotCopyContent.filter((function(scc){return inputLabwareBarcodes.includes(scc.sourceBarcode)}))})),clearSlots:(0,lib.f0)((function(ctx,e){"CLEAR_SLOTS"===e.type&&(ctx.slotCopyContent=ctx.slotCopyContent.filter((function(scc){return!e.outputAddresses.includes(scc.destinationAddress)})))})),copySlots:(0,lib.f0)((function(ctx,e){if("COPY_SLOTS"===e.type){var inputLabware=(0,lodash.find)(ctx.inputLabware,{id:e.inputLabwareId}),outputLabware=(0,lodash.find)(ctx.outputLabware,{id:e.outputLabwareId});if(inputLabware&&outputLabware){var outputAddresses=(0,helpers.Yh)(outputLabware.labwareType,sdk.mp.DownRight),destinationAddressIndex=(0,lodash.indexOf)(outputAddresses,e.outputAddress);if(-1!==destinationAddressIndex){var sourceToDestination=function sortWithDirection(addresses,direction){var byColumnIndex=function byColumnIndex(address){return(0,labwareHelper.av)(address)},byRowIndex=function byRowIndex(address){return(0,labwareHelper.Xt)(address)},iteratees=direction===sdk.mp.DownRight?[byColumnIndex,byRowIndex]:[byRowIndex,byColumnIndex];return(0,lodash.orderBy)(addresses,iteratees,["asc","asc"])}(e.inputAddresses,sdk.mp.DownRight).reduce((function(memo,sourceAddress,index){return memo[sourceAddress]=outputAddresses[destinationAddressIndex+index],memo}),{});if(!((0,lodash.intersection)((0,lodash.map)(ctx.slotCopyContent,"destinationAddress"),Object.values(sourceToDestination)).length>0||destinationAddressIndex+e.inputAddresses.length>outputAddresses.length)){var newSlotCopyContent=Object.entries(sourceToDestination).map((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2);return{sourceAddress:_ref2[0],destinationAddress:_ref2[1],sourceBarcode:inputLabware.barcode}}));ctx.slotCopyContent=ctx.slotCopyContent.filter((function(scc){return!(scc.sourceBarcode===inputLabware.barcode&&e.inputAddresses.includes(scc.sourceAddress))})).concat(newSlotCopyContent)}}}}})),assignFailedSlots:(0,lib.f0)((function(ctx,e){if("done.invoke.passFailsSlots"===e.type&&e.data.result.passFails&&e.data.result.passFails.length>0){var slotPassFails=e.data.result.passFails[e.data.result.passFails.length-1].slotPassFails;if(slotPassFails){var failedAddresses=slotPassFails.filter((function(slotPassFail){return slotPassFail.result===sdk.h2.Fail}));failedAddresses.length>0&&ctx.failedSlots.set(e.data.barcode,failedAddresses)}}})),assignPassFailError:(0,lib.f0)((function(ctx,e){"error.platform.passFailsSlots"===e.type&&ctx.errors.set(e.barcode,e.error)}))},services:{passFailsSlots:(_passFailsSlots=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(ctx,e){var response;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if("UPDATE_INPUT_LABWARE"===e.type){_context.next=2;break}return _context.abrupt("return",Promise.reject());case 2:if(!(e.labware.length<=0)){_context.next=4;break}return _context.abrupt("return",Promise.reject("No labwares scanned"));case 4:return _context.next=6,lib_sdk.dj.FindPassFails({barcode:e.labware[e.labware.length-1].barcode,operationType:"Slide processing"});case 6:return response=_context.sent,_context.abrupt("return",{barcode:e.labware[e.labware.length-1].barcode,result:response});case 8:case"end":return _context.stop()}}),_callee)}))),function passFailsSlots(_x,_x2){return _passFailsSlots.apply(this,arguments)})}},slotMapper_machine=(0,Machine.J)({id:"slotMapperMachine",initial:"ready",states:{ready:{entry:"assignLabwareColors",on:{COPY_SLOTS:{actions:"copySlots"},CLEAR_SLOTS:{actions:["clearSlots"]},UPDATE_INPUT_LABWARE:{target:["updatingLabware"],actions:["assignInputLabware","assignLabwareColors","checkSlots"]},UPDATE_OUTPUT_LABWARE:{actions:"assignOutputLabware"},LOCK:"locked"}},updatingLabware:{invoke:{src:"passFailsSlots",id:"passFailsSlots",onDone:{target:"ready",actions:"assignFailedSlots"},onError:{target:"ready",actions:"assignPassFailError"}}},locked:{on:{UNLOCK:"ready"}}}},machineConfig),hooks=__webpack_require__("./src/lib/hooks/index.ts"),WhiteButton=__webpack_require__("./src/components/buttons/WhiteButton.tsx"),LabwareScanner=__webpack_require__("./src/components/labwareScanner/LabwareScanner.tsx"),RemoveButton=__webpack_require__("./src/components/buttons/RemoveButton.tsx"),Table=__webpack_require__("./src/components/Table.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function SlotMapperTable(_ref){var labware=_ref.labware,slots=_ref.slots,slotCopyContent=_ref.slotCopyContent;return(0,jsx_runtime.jsxs)(Table.ZP,{children:[(0,jsx_runtime.jsx)(Table.ss,{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)(Table.xD,{children:"Source Barcode"}),(0,jsx_runtime.jsx)(Table.xD,{children:"Source Address"}),(0,jsx_runtime.jsx)(Table.xD,{children:"External Name"}),(0,jsx_runtime.jsx)(Table.xD,{children:"Spatial Location"}),(0,jsx_runtime.jsx)(Table.xD,{children:"Tissue Type"}),(0,jsx_runtime.jsx)(Table.xD,{children:"Replicate Number"}),(0,jsx_runtime.jsx)(Table.xD,{children:"Sections Number(s)"}),(0,jsx_runtime.jsx)(Table.xD,{children:"Destination Address"})]})}),(0,jsx_runtime.jsx)(Table.RM,{children:slots.map((function(slot){var _getDestinationAddres;return(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)(Table.pj,{children:labware.barcode}),(0,jsx_runtime.jsx)(Table.pj,{children:slot.address}),(0,jsx_runtime.jsx)(Table.pj,{children:slot.samples.length>0?slot.samples[0].tissue.externalName:""}),(0,jsx_runtime.jsx)(Table.pj,{children:slot.samples.length>0?slot.samples[0].tissue.spatialLocation.code:""}),(0,jsx_runtime.jsx)(Table.pj,{children:slot.samples.length>0?slot.samples[0].tissue.spatialLocation.tissueType.name:""}),(0,jsx_runtime.jsx)(Table.pj,{children:slot.samples.length>0?slot.samples[0].tissue.replicate:""}),(0,jsx_runtime.jsx)(Table.pj,{children:slot.samples.map((function(sample){return sample.section})).join(",")}),(0,jsx_runtime.jsx)(Table.pj,{children:null!==(_getDestinationAddres=getDestinationAddress(labware,slot,slotCopyContent))&&void 0!==_getDestinationAddres?_getDestinationAddres:"-"})]},"".concat(slot.address,"-").concat(slot.labwareId))}))})]})}function getDestinationAddress(labware,slot,slotCopyContent){var _slotCopyContent$find;return null===(_slotCopyContent$find=slotCopyContent.find((function(scc){return scc.sourceBarcode===labware.barcode&&scc.sourceAddress===slot.address})))||void 0===_slotCopyContent$find?void 0:_slotCopyContent$find.destinationAddress}try{SlotMapperTable.displayName="SlotMapperTable",SlotMapperTable.__docgenInfo={description:"",displayName:"SlotMapperTable",props:{labware:{defaultValue:null,description:"",name:"labware",required:!0,type:{name:"LabwareFieldsFragment"}},slots:{defaultValue:null,description:"",name:"slots",required:!0,type:{name:"SlotFieldsFragment[]"}},slotCopyContent:{defaultValue:null,description:"",name:"slotCopyContent",required:!0,type:{name:"SlotCopyContent[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/slotMapper/SlotMapperTable.tsx#SlotMapperTable"]={docgenInfo:SlotMapperTable.__docgenInfo,name:"SlotMapperTable",path:"src/components/slotMapper/SlotMapperTable.tsx#SlotMapperTable"})}catch(__react_docgen_typescript_loader_error){}var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),Heading=function Heading(_ref){var children=_ref.children,level=_ref.level,className=_ref.className,_ref$showBorder=_ref.showBorder,showBorder=void 0===_ref$showBorder||_ref$showBorder,HeadingTag="h".concat(level),headingClasses=classnames_default()({"text-3xl font-bold tracking-tight leading-loose":1===level,"text-2xl font-bold tracking-tight leading-relaxed":2===level,"text-xl font-bold tracking-tight leading-relaxed":3===level,"text-lg font-medium tracking-tight leading-relaxed":4===level,"border-b-2 border-sp":showBorder},className);return(0,jsx_runtime.jsx)(HeadingTag,{className:headingClasses,children:children})},components_Heading=Heading;try{Heading.displayName="Heading",Heading.__docgenInfo={description:"",displayName:"Heading",props:{level:{defaultValue:null,description:"",name:"level",required:!0,type:{name:"enum",value:[{value:"2"},{value:"1"},{value:"3"},{value:"4"}]}},showBorder:{defaultValue:{value:"true"},description:"",name:"showBorder",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Heading.tsx#Heading"]={docgenInfo:Heading.__docgenInfo,name:"Heading",path:"src/components/Heading.tsx#Heading"})}catch(__react_docgen_typescript_loader_error){}var MutedText=__webpack_require__("./src/components/MutedText.tsx"),usePager=__webpack_require__("./src/lib/hooks/usePager.ts"),useMachine=__webpack_require__("./node_modules/@xstate/react/es/useMachine.js"),Modal=function Modal(_ref){var children=_ref.children;return _ref.show?(0,jsx_runtime.jsx)("div",{className:"fixed z-20 inset-0 overflow-y-auto",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block xl:p-0",children:[(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,jsx_runtime.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),(0,jsx_runtime.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-screen-md sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:children})]})}):null},components_Modal=Modal,ModalHeader=function ModalHeader(_ref2){var children=_ref2.children;return(0,jsx_runtime.jsx)("h3",{className:"border-b-2 border-gray-200 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 bg-gray-100 text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children:children})},ModalBody=function ModalBody(_ref3){var children=_ref3.children;return(0,jsx_runtime.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:children})},ModalFooter=function ModalFooter(_ref4){var children=_ref4.children;return(0,jsx_runtime.jsx)("div",{className:"bg-gray-100 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:children})};try{Modal.displayName="Modal",Modal.__docgenInfo={description:"",displayName:"Modal",props:{show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal.tsx#Modal"]={docgenInfo:Modal.__docgenInfo,name:"Modal",path:"src/components/Modal.tsx#Modal"})}catch(__react_docgen_typescript_loader_error){}try{ModalHeader.displayName="ModalHeader",ModalHeader.__docgenInfo={description:"",displayName:"ModalHeader",props:{show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal.tsx#ModalHeader"]={docgenInfo:ModalHeader.__docgenInfo,name:"ModalHeader",path:"src/components/Modal.tsx#ModalHeader"})}catch(__react_docgen_typescript_loader_error){}try{ModalBody.displayName="ModalBody",ModalBody.__docgenInfo={description:"",displayName:"ModalBody",props:{show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal.tsx#ModalBody"]={docgenInfo:ModalBody.__docgenInfo,name:"ModalBody",path:"src/components/Modal.tsx#ModalBody"})}catch(__react_docgen_typescript_loader_error){}try{ModalFooter.displayName="ModalFooter",ModalFooter.__docgenInfo={description:"",displayName:"ModalFooter",props:{show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal.tsx#ModalFooter"]={docgenInfo:ModalFooter.__docgenInfo,name:"ModalFooter",path:"src/components/Modal.tsx#ModalFooter"})}catch(__react_docgen_typescript_loader_error){}var Success=__webpack_require__("./src/components/notifications/Success.tsx"),Warning=__webpack_require__("./src/components/notifications/Warning.tsx"),ConfirmationModal=function ConfirmationModal(_ref){var show=_ref.show,header=_ref.header,message=_ref.message,confirmOptions=_ref.confirmOptions,children=_ref.children;return(0,jsx_runtime.jsxs)(components_Modal,{show:show,children:[(0,jsx_runtime.jsx)(ModalHeader,{children:header}),(0,jsx_runtime.jsxs)(ModalBody,{children:[message&&"Success"===message.type&&(0,jsx_runtime.jsx)(Success.Z,{message:message.text}),message&&"Warning"===message.type&&(0,jsx_runtime.jsx)(Warning.Z,{message:message.text}),(0,jsx_runtime.jsx)("div",{className:"my-4",children:children})]}),(0,jsx_runtime.jsx)(ModalFooter,{children:confirmOptions.map((function(option){return(0,jsx_runtime.jsx)(WhiteButton.Z,{type:"button",onClick:option.action,className:"w-full text-base sm:ml-3 sm:w-auto sm:text-sm",children:option.label},option.label)}))})]})};try{ConfirmationModal.displayName="ConfirmationModal",ConfirmationModal.__docgenInfo={description:"",displayName:"ConfirmationModal",props:{header:{defaultValue:null,description:"Header text",name:"header",required:!0,type:{name:"string"}},show:{defaultValue:null,description:"Should this modal be showing",name:"show",required:!0,type:{name:"boolean"}},children:{defaultValue:null,description:"Children to be displayed in the modal",name:"children",required:!0,type:{name:"ReactNode"}},message:{defaultValue:null,description:"Message to display",name:"message",required:!1,type:{name:'{ type: "Warning" | "Success"; text: string; }'}},confirmOptions:{defaultValue:null,description:"Labels and action handlers for different options to display",name:"confirmOptions",required:!0,type:{name:"{ label: string; action: () => void; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/modal/ConfirmationModal.tsx#ConfirmationModal"]={docgenInfo:ConfirmationModal.__docgenInfo,name:"ConfirmationModal",path:"src/components/modal/ConfirmationModal.tsx#ConfirmationModal"})}catch(__react_docgen_typescript_loader_error){}var _excluded=["currentPage","numberOfPages","setNumberOfPages","setCurrentPage","goToLastPage"];function SlotMapper(_ref){var onChange=_ref.onChange,onInputLabwareChange=_ref.onInputLabwareChange,_ref$initialInputLabw=_ref.initialInputLabware,initialInputLabware=void 0===_ref$initialInputLabw?[]:_ref$initialInputLabw,_ref$initialOutputLab=_ref.initialOutputLabware,initialOutputLabware=void 0===_ref$initialOutputLab?[]:_ref$initialOutputLab,_ref$locked=_ref.locked,locked=void 0!==_ref$locked&&_ref$locked,_useMachine=(0,useMachine.e)((function(){return slotMapper_machine.withContext({inputLabware:initialInputLabware,outputLabware:initialOutputLabware,slotCopyContent:[],colorByBarcode:new Map,failedSlots:new Map,errors:new Map})})),_useMachine2=(0,slicedToArray.Z)(_useMachine,2),current=_useMachine2[0],send=_useMachine2[1],_current$context=current.context,inputLabware=_current$context.inputLabware,slotCopyContent=_current$context.slotCopyContent,colorByBarcode=_current$context.colorByBarcode,failedSlots=_current$context.failedSlots,errors=_current$context.errors,anySourceMapped=(0,react.useMemo)((function(){return 0!==inputLabware.length&&slotCopyContent.length>0}),[inputLabware,slotCopyContent]);(0,react.useEffect)((function(){onInputLabwareChange&&onInputLabwareChange(inputLabware)}),[onInputLabwareChange,inputLabware]);var getSourceSlotColor=(0,react.useCallback)((function(labware,address,slot){var _slot$samples;return(0,lodash.find)(slotCopyContent,{sourceBarcode:labware.barcode,sourceAddress:address})?"bg-".concat(colorByBarcode.get(labware.barcode),"-200"):null!=slot&&null!==(_slot$samples=slot.samples)&&void 0!==_slot$samples&&_slot$samples.length?"bg-".concat(colorByBarcode.get(labware.barcode),"-500"):void 0}),[slotCopyContent,colorByBarcode]),getDestinationSlotColor=(0,react.useCallback)((function(labware,address){var scc=(0,lodash.find)(slotCopyContent,{destinationAddress:address});if(scc)return"bg-".concat(colorByBarcode.get(scc.sourceBarcode),"-500")}),[slotCopyContent,colorByBarcode]),_useState=(0,react.useState)((function(){return 0===(null==initialInputLabware?void 0:initialInputLabware.length)?null:initialInputLabware[0]})),_useState2=(0,slicedToArray.Z)(_useState,2),currentInputLabware=_useState2[0],setCurrentInputLabware=_useState2[1],_useState3=(0,react.useState)((function(){return 0===(null==initialOutputLabware?void 0:initialOutputLabware.length)?null:initialOutputLabware[0]})),currentOutputLabware=(0,slicedToArray.Z)(_useState3,1)[0],currentInputId=null==currentInputLabware?void 0:currentInputLabware.id,currentOutputId=null==currentOutputLabware?void 0:currentOutputLabware.id,_useState5=(0,react.useState)([]),_useState6=(0,slicedToArray.Z)(_useState5,2),selectedInputAddresses=_useState6[0],setSelectedInputAddresses=_useState6[1],_useState7=(0,react.useState)([]),_useState8=(0,slicedToArray.Z)(_useState7,2),selectedOutputAddresses=_useState8[0],setSelectedOutputAddresses=_useState8[1],_useState9=(0,react.useState)([]),_useState10=(0,slicedToArray.Z)(_useState9,2),failedSelectSlots=_useState10[0],setFailedSelectSlots=_useState10[1],_useState11=(0,react.useState)(),_useState12=(0,slicedToArray.Z)(_useState11,2),destinationAddress=_useState12[0],setDestinationAddress=_useState12[1],_usePager=(0,usePager.Y)({initialCurrentPage:1,initialNumberOfPages:inputLabware.length}),currentPage=_usePager.currentPage,numberOfPages=_usePager.numberOfPages,setNumberOfPages=_usePager.setNumberOfPages,goToLastPage=(_usePager.setCurrentPage,_usePager.goToLastPage),pagerRest=(0,objectWithoutProperties.Z)(_usePager,_excluded),numberOfInputLabware=inputLabware.length;(0,react.useEffect)((function(){setNumberOfPages(numberOfInputLabware)}),[numberOfInputLabware,setNumberOfPages]);var previousLength=(0,hooks.D9)(inputLabware.length);(0,react.useEffect)((function(){previousLength&&inputLabware.length>previousLength&&goToLastPage()}),[inputLabware.length,goToLastPage,previousLength]),(0,react.useEffect)((function(){setCurrentInputLabware(inputLabware[currentPage-1])}),[currentPage,inputLabware]),(0,react.useEffect)((function(){setSelectedInputAddresses([])}),[currentInputLabware]),(0,react.useEffect)((function(){send(locked?{type:"LOCK"}:{type:"UNLOCK"})}),[locked,send]);var inputLabwareRef=(0,react.useRef)(null),outputLabwareRef=(0,react.useRef)(null),handleCopySlots=react.useCallback((function(givenDestinationAddress){setFailedSelectSlots([]);var address=destinationAddress||givenDestinationAddress;currentInputId&&currentOutputId&&address&&send({type:"COPY_SLOTS",inputLabwareId:currentInputId,inputAddresses:selectedInputAddresses,outputLabwareId:currentOutputId,outputAddress:address}),setDestinationAddress(void 0)}),[currentInputId,currentOutputId,destinationAddress,selectedInputAddresses,send]),handleOnOutputLabwareSlotClick=react.useCallback((function(outputAddress){if(setDestinationAddress(outputAddress),currentInputLabware){var slotFails=failedSlots.get(currentInputLabware.barcode);if(!slotFails)return void handleCopySlots(outputAddress);var _failedSelectSlots=slotFails.filter((function(slot){return-1!==selectedInputAddresses.findIndex((function(address){return address===slot.address}))}));if(setFailedSelectSlots(_failedSelectSlots),0===_failedSelectSlots.length)return void handleCopySlots(outputAddress)}}),[currentInputLabware,handleCopySlots,failedSlots,selectedInputAddresses]),handleOnClickClear=react.useCallback((function(){var _outputLabwareRef$cur;currentOutputId&&(send({type:"CLEAR_SLOTS",outputLabwareId:currentOutputId,outputAddresses:selectedOutputAddresses}),null===(_outputLabwareRef$cur=outputLabwareRef.current)||void 0===_outputLabwareRef$cur||_outputLabwareRef$cur.deselectAll())}),[send,currentOutputId,selectedOutputAddresses,outputLabwareRef]);(0,react.useEffect)((function(){var _inputLabwareRef$curr;null===(_inputLabwareRef$curr=inputLabwareRef.current)||void 0===_inputLabwareRef$curr||_inputLabwareRef$curr.deselectAll()}),[slotCopyContent,currentInputLabware]),(0,react.useEffect)((function(){null==onChange||onChange(slotCopyContent,anySourceMapped)}),[onChange,slotCopyContent,anySourceMapped]);var onLabwareScannerChange=react.useCallback((function(labware){send({type:"UPDATE_INPUT_LABWARE",labware:labware})}),[send]),selectedSlots=currentInputLabware?currentInputLabware.slots.filter((function(slot){return-1!==selectedInputAddresses.findIndex((function(selectedAddress){return selectedAddress===slot.address}))})):[];return(0,jsx_runtime.jsxs)("div",{className:"space-y-8",children:[(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 auto-rows-auto",children:[(0,jsx_runtime.jsx)(components_Heading,{level:4,children:"Input Labwares"}),(0,jsx_runtime.jsx)(components_Heading,{level:4,children:"Output Labwares"}),(0,jsx_runtime.jsx)("div",{id:"inputLabwares",className:"bg-gray-100 p-4",children:(0,jsx_runtime.jsx)(LabwareScanner.Z,{initialLabwares:initialInputLabware,onChange:onLabwareScannerChange,children:function children(props){return currentInputLabware?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!locked&&(0,jsx_runtime.jsx)("div",{className:"flex flex-row justify-end",children:(0,jsx_runtime.jsx)(RemoveButton.Z,{onClick:function onClick(){return props.removeLabware(currentInputLabware.barcode)}})}),(0,jsx_runtime.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,jsx_runtime.jsx)(Labware.Z,{labware:currentInputLabware,selectable:"non_empty",selectionMode:"multi",labwareRef:inputLabwareRef,slotColor:function slotColor(address,slot){return getSourceSlotColor(currentInputLabware,address,slot)},name:currentInputLabware.labwareType.name,onSelect:setSelectedInputAddresses})})]}):(0,jsx_runtime.jsx)(MutedText.Z,{children:"Add labware using the scan input above"})}})}),(0,jsx_runtime.jsx)("div",{id:"outputLabwares",className:"p-4 flex flex-col items-center justify-center bg-gray-100",children:currentOutputLabware&&(0,jsx_runtime.jsx)(Labware.Z,{labware:currentOutputLabware,selectable:"any",selectionMode:"multi",labwareRef:outputLabwareRef,name:currentOutputLabware.labwareType.name,onSlotClick:handleOnOutputLabwareSlotClick,onSelect:setSelectedOutputAddresses,slotColor:function slotColor(address){return getDestinationSlotColor(currentOutputLabware,address)}})}),(0,jsx_runtime.jsx)("div",{className:"border-gray-300 border-t-2 p-4 flex flex-row items-center justify-between bg-gray-200",children:inputLabware.length>0&&(0,jsx_runtime.jsx)(Pager.Z,(0,objectSpread2.Z)({currentPage:currentPage,numberOfPages:numberOfPages},pagerRest))}),(0,jsx_runtime.jsx)("div",{className:"border-gray-300 border-t-2 p-4 flex flex-row items-center justify-end bg-gray-200",children:!locked&&(0,jsx_runtime.jsx)(WhiteButton.Z,{onClick:handleOnClickClear,children:"Clear"})})]}),currentInputLabware&&selectedSlots.length>0&&(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)(components_Heading,{level:4,children:"Slot Mapping"}),(0,jsx_runtime.jsx)(SlotMapperTable,{labware:currentInputLabware,slots:selectedSlots,slotCopyContent:slotCopyContent})]}),(0,jsx_runtime.jsxs)(ConfirmationModal,{show:failedSelectSlots.length>0,header:"Slot transfer",message:{type:"Warning",text:"Failed slot(s)"},confirmOptions:[{label:"Cancel",action:function action(){setFailedSelectSlots([])}},{label:"Continue",action:handleCopySlots}],children:[(0,jsx_runtime.jsx)("p",{className:"font-bold mt-8",children:"Following slot(s) failed in slide processing : "}),(0,jsx_runtime.jsxs)(Table.ZP,{className:"mt-4 w-full",children:[(0,jsx_runtime.jsx)(Table.ss,{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)(Table.xD,{children:"Address"}),(0,jsx_runtime.jsx)(Table.xD,{children:"Comment"})]})}),(0,jsx_runtime.jsx)(Table.RM,{children:failedSelectSlots.map((function(slot){return(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)(Table.pj,{children:slot.address}),(0,jsx_runtime.jsx)(Table.pj,{children:slot.comment})]},slot.address)}))})]}),(0,jsx_runtime.jsx)("p",{className:"mt-6 font-bold",children:"Do you wish to continue or cancel?"})]}),(0,jsx_runtime.jsx)("div",{className:"flex flex-col w-full",children:errors.size>0&&(0,jsx_runtime.jsx)(Warning.Z,{message:"There is an error while fetching pass/fail status for the slots in ".concat(null==currentInputLabware?void 0:currentInputLabware.barcode,".")})})]})}var slotMapper_SlotMapper=SlotMapper;try{SlotMapper.displayName="SlotMapper",SlotMapper.__docgenInfo={description:"",displayName:"SlotMapper",props:{onChange:{defaultValue:null,description:"Callback that's called whenever a slot is mapped or unmapped\n@param slotCopyContent the current mapping of source to destination slots\n@param allSourcesMapped true if input labware exists and their non-empty slots have been mapped, false otherwise",name:"onChange",required:!1,type:{name:"((slotCopyContent: SlotCopyContent[], allSourcesMapped: boolean) => void)"}},onInputLabwareChange:{defaultValue:null,description:"Callback to notify whenever an input labware is scanned",name:"onInputLabwareChange",required:!1,type:{name:"((labwaresWithoutPerm: LabwareFieldsFragment[]) => void)"}},locked:{defaultValue:{value:"false"},description:"Lock the SlotMapper.",name:"locked",required:!1,type:{name:"boolean"}},initialInputLabware:{defaultValue:{value:"[]"},description:"Initial input labware",name:"initialInputLabware",required:!1,type:{name:"LabwareFieldsFragment[]"}},initialOutputLabware:{defaultValue:{value:"[]"},description:"Initial output labware",name:"initialOutputLabware",required:!1,type:{name:"NewLabwareLayout[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/slotMapper/SlotMapper.tsx#SlotMapper"]={docgenInfo:SlotMapper.__docgenInfo,name:"SlotMapper",path:"src/components/slotMapper/SlotMapper.tsx#SlotMapper"})}catch(__react_docgen_typescript_loader_error){}var labwareFactory=__webpack_require__("./src/lib/factories/labwareFactory.ts"),labwareTypeFactory=__webpack_require__("./src/lib/factories/labwareTypeFactory.ts"),stan=__webpack_require__("./src/types/stan.ts"),SlotMapper_stories={title:"Slot Mapper",component:slotMapper_SlotMapper},Default=function Template(args){return(0,jsx_runtime.jsx)(slotMapper_SlotMapper,(0,objectSpread2.Z)({},args))}.bind({});Default.args={initialInputLabware:labwareFactory.ZP.buildList(3,void 0,{associations:{labwareType:labwareTypeFactory.kK[stan.Cn.VISIUM_LP].build()}}),initialOutputLabware:[labwareFactory.Ai.build()]},Default.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => (\n  <SlotMapper {...args} />\n)"}},Default.parameters);var __namedExportsOrder=["Default"];try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/slotMapper/SlotMapper.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"src/components/slotMapper/SlotMapper.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/buttons/Button.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/classnames/index.js")),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_icons_LoadingSpinner__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons/LoadingSpinner.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["children","disabled","className","loading"],Button=function Button(_ref){var children=_ref.children,disabled=_ref.disabled,className=_ref.className,loading=_ref.loading,rest=(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded),buttonClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()("w-full inline-flex justify-center rounded-md border border-transparent px-4 py-2 text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",{"cursor-not-allowed opacity-50":disabled||loading},className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("button",(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},rest),{},{disabled:disabled,className:buttonClasses,children:[children,loading&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"ml-3 -mr-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_icons_LoadingSpinner__WEBPACK_IMPORTED_MODULE_2__.Z,{})})]}))};__webpack_exports__.Z=Button;try{Button.displayName="Button",Button.__docgenInfo={description:"Not to be used in the UI. Here to provide some good defaults for building other buttons.",displayName:"Button",props:{loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"tertiary"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/buttons/Button.tsx#Button"]={docgenInfo:Button.__docgenInfo,name:"Button",path:"src/components/buttons/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/buttons/WhiteButton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_Button__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/components/buttons/Button.tsx")),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["children","className","action"],WhiteButton=function WhiteButton(_ref){var children=_ref.children,className=_ref.className,_ref$action=_ref.action,action=void 0===_ref$action?"primary":_ref$action,rest=(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded),buttonClasses=classnames__WEBPACK_IMPORTED_MODULE_2___default()({"text-gray-800 bg-white hover:bg-gray-200 shadow-sm focus:border-gray-200 focus:shadow-outline-gray-200 active:bg-gray-300":"primary"===action,"text-white border border-white bg-transparent shadow-sm hover:text-gray-100 focus:text-gray-400 focus:shadow-outline-gray-500 active:text-gray-200":"secondary"===action,"text-gray-100 bg-transparent hover:text-white active:text-gray-200":"tertiary"===action},className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_1__.Z,(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},rest),{},{className:buttonClasses,children:children}))};__webpack_exports__.Z=WhiteButton;try{WhiteButton.displayName="WhiteButton",WhiteButton.__docgenInfo={description:"",displayName:"WhiteButton",props:{loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},action:{defaultValue:{value:"primary"},description:"",name:"action",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"tertiary"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/buttons/WhiteButton.tsx#WhiteButton"]={docgenInfo:WhiteButton.__docgenInfo,name:"WhiteButton",path:"src/components/buttons/WhiteButton.tsx#WhiteButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/LoadingSpinner.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/classnames/index.js")),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function LoadingSpinner(_ref){var className=_ref.className,svgClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()("animate-spin",{"h-5 w-5 text-sdb":!className},(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},"".concat(className),!!className));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("svg",{className:svgClasses,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}__webpack_exports__.Z=LoadingSpinner;try{LoadingSpinner.displayName="LoadingSpinner",LoadingSpinner.__docgenInfo={description:"Renders a spinning h-5 by w-5 Sanger dark-blue loading icon. All classNames can be overridden.",displayName:"LoadingSpinner",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/LoadingSpinner.tsx#LoadingSpinner"]={docgenInfo:LoadingSpinner.__docgenInfo,name:"LoadingSpinner",path:"src/components/icons/LoadingSpinner.tsx#LoadingSpinner"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/labware/Labware.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return labware_Labware}});var slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),BarcodeIcon=__webpack_require__("./src/components/icons/BarcodeIcon.tsx"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js");function getColorVariant(color){var currentVariantNumber=color.match(/\d{2,3}$/);return currentVariantNumber?parseInt(currentVariantNumber[0]):-1}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Slot(_ref){var _ref2,_ref3,_classNames,address=_ref.address,slot=_ref.slot,size=_ref.size,onClick=_ref.onClick,onCtrlClick=_ref.onCtrlClick,onShiftClick=_ref.onShiftClick,onMouseEnter=_ref.onMouseEnter,onMouseLeave=_ref.onMouseLeave,color=_ref.color,text=_ref.text,secondaryText=_ref.secondaryText,selected=_ref.selected,slotText=null!==(_ref2=text&&text(address,slot))&&void 0!==_ref2?_ref2:address,slotSecondaryText=null!==(_ref3=secondaryText&&secondaryText(address,slot))&&void 0!==_ref3?_ref3:null,bgColor=color&&color(address,slot),slotClassNames=classnames_default()((_classNames={"transition duration-150 ease-in-out cursor-pointer":onClick,"hover:bg-gray-200":onClick&&!bgColor},(0,defineProperty.Z)(_classNames,"hover:".concat(function brightenColor(color){if(!color)return"";var currentVariantNumber=getColorVariant(color);return-1===currentVariantNumber||900===currentVariantNumber?color:50===currentVariantNumber?color.replace(/\d{2,3}$/,"".concat(currentVariantNumber+50)):color.replace(/\d{2,3}$/,"".concat(currentVariantNumber+100))}(bgColor)),onClick&&bgColor),(0,defineProperty.Z)(_classNames,"".concat(bgColor," text-gray-100"),bgColor),(0,defineProperty.Z)(_classNames,"bg-gray-100 text-gray-800",!bgColor),(0,defineProperty.Z)(_classNames,"ring ring-pink-600 ring-offset-2",selected),(0,defineProperty.Z)(_classNames,"border border-gray-800",!selected),(0,defineProperty.Z)(_classNames,"h-20 w-20","large"===size),(0,defineProperty.Z)(_classNames,"h-12 w-12","small"===size),_classNames),"inline-flex flex-col items-center justify-center mx-auto rounded-full text-xs font-semibold"),onClickHandler=react.useCallback((function(e){e.shiftKey?null==onShiftClick||onShiftClick(address,slot):e.ctrlKey||e.metaKey?null==onCtrlClick||onCtrlClick(address,slot):null==onClick||onClick(address,slot)}),[onClick,onCtrlClick,onShiftClick,address,slot]),onMouseEnterHandler=react.useCallback((function(){null==onMouseEnter||onMouseEnter(address,slot)}),[onMouseEnter,address,slot]),onMouseLeaveHandler=react.useCallback((function(){null==onMouseLeave||onMouseLeave(address,slot)}),[onMouseLeave,address,slot]);return(0,jsx_runtime.jsxs)("div",{onClick:onClickHandler,onMouseEnter:onMouseEnterHandler,onMouseLeave:onMouseLeaveHandler,className:slotClassNames,children:[(0,jsx_runtime.jsx)("p",{className:"truncate",children:slotText}),secondaryText&&(0,jsx_runtime.jsx)("p",{className:"truncate",children:slotSecondaryText})]})}try{Slot.displayName="Slot",Slot.__docgenInfo={description:"",displayName:"Slot",props:{address:{defaultValue:null,description:"",name:"address",required:!0,type:{name:"string"}},slot:{defaultValue:null,description:"",name:"slot",required:!0,type:{name:"SlotFieldsFragment"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"small"'},{value:'"large"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => void)"}},onCtrlClick:{defaultValue:null,description:"",name:"onCtrlClick",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => void)"}},onShiftClick:{defaultValue:null,description:"",name:"onShiftClick",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => void)"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => string)"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => string)"}},secondaryText:{defaultValue:null,description:"",name:"secondaryText",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => string)"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/labware/Slot.tsx#Slot"]={docgenInfo:Slot.__docgenInfo,name:"Slot",path:"src/components/labware/Slot.tsx#Slot"})}catch(__react_docgen_typescript_loader_error){}var helpers=__webpack_require__("./src/lib/helpers.ts"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),lodash_default=__webpack_require__.n(lodash),es=__webpack_require__("./node_modules/xstate/es/index.js"),Machine=__webpack_require__("./node_modules/xstate/es/Machine.js"),lib=__webpack_require__("./node_modules/@xstate/immer/lib/index.js"),actions=__webpack_require__("./node_modules/xstate/lib/actions.js"),slotHelper=__webpack_require__("./src/lib/helpers/slotHelper.ts"),labwareHelper=__webpack_require__("./src/lib/helpers/labwareHelper.ts");var machineOptions={actions:{clearSelectedSlots:(0,lib.f0)((function(ctx){return ctx.selectedAddresses.clear()})),deselectSlot:(0,lib.f0)((function(ctx,e){"address"in e&&ctx.selectedAddresses.delete(e.address)})),forwardEvent:(0,actions.Le)((function(ctx,event){return(0,es.send)(event)})),selectSlot:(0,lib.f0)((function(ctx,e){"address"in e&&ctx.selectedAddresses.add(e.address)})),storeLastSelectedSlot:(0,lib.f0)((function(ctx,e){"address"in e&&(ctx.lastSelectedAddress=e.address)})),selectSlotsBetween:(0,lib.f0)((function(ctx,e,meta){var _meta$state,_meta$state2;if("SELECT_TO_SLOT"===e.type&&null!=ctx.lastSelectedAddress){var sortedSlots=(0,labwareHelper.Bx)(ctx.slots),_sort=[sortedSlots.findIndex((function(slot){return slot.address===e.address})),sortedSlots.findIndex((function(slot){return slot.address===ctx.lastSelectedAddress}))].sort((function(a,b){return a-b})),_sort2=(0,slicedToArray.Z)(_sort,2),startSlotIndex=_sort2[0],endSlotIndex=_sort2[1],selectedSlots=sortedSlots.slice(startSlotIndex,endSlotIndex+1);null!==(_meta$state=meta.state)&&void 0!==_meta$state&&_meta$state.matches({selectable:{non_empty:"multi"}})?selectedSlots=(0,slotHelper.JI)(selectedSlots):null!==(_meta$state2=meta.state)&&void 0!==_meta$state2&&_meta$state2.matches({selectable:{empty:"multi"}})&&(selectedSlots=(0,slotHelper.GZ)(selectedSlots)),selectedSlots.forEach((function(slot){return ctx.selectedAddresses.add(slot.address)}))}})),updateSlots:(0,lib.f0)((function(ctx,e){"UPDATE_SLOTS"===e.type&&(ctx.slots=e.slots)}))},guards:{isSelectedEmpty:function isSelectedEmpty(ctx,e){return"address"in e&&(0,slotHelper.aD)((0,slotHelper.IX)(ctx.slots,e.address))},isSelectedNotEmpty:function isSelectedNotEmpty(ctx,e){return"address"in e&&(0,slotHelper.kd)((0,slotHelper.IX)(ctx.slots,e.address))},isSlotSelected:function isSlotSelected(ctx,e){return"address"in e&&ctx.selectedAddresses.has(e.address)},isLastSelectedSlot:function isLastSelectedSlot(ctx){return null!=ctx.lastSelectedAddress}}},labware_machine=function createLabwareMachine(_ref){var slots=_ref.slots,selectionMode=_ref.selectionMode,selectable=_ref.selectable;return(0,Machine.J)({id:"labwareMachine",initial:"unknown",context:{slots:slots,selectedAddresses:new Set,lastSelectedAddress:null,selectionMode:selectionMode,selectable:selectable},on:{RESET_SELECTED:{actions:(0,lib.f0)((function(ctx){return ctx.selectedAddresses.clear()}))},CHANGE_SELECTION_MODE:{actions:(0,lib.f0)((function(ctx,e){ctx.selectable=e.selectable,ctx.selectionMode=e.selectionMode,ctx.selectedAddresses.clear()})),target:"unknown"},UPDATE_SLOTS:{actions:"updateSlots"}},states:{unknown:{always:chooseState},non_selectable:{},selectable:{states:{any:{states:{single:{on:{SELECT_SLOT:singleSelectSlotHandler,CTRL_SELECT_SLOT:singleCtrlSelectSlotHandler}},multi:{on:{SELECT_SLOT:multiSelectSlotHandler,SELECT_TO_SLOT:multiSelectToSlotHandler,CTRL_SELECT_SLOT:multiCtrlSelectSlotHandler}}}},non_empty:{states:{single:{on:{SELECT_SLOT:[isSelectedEmptyHandler].concat(singleSelectSlotHandler),CTRL_SELECT_SLOT:[isSelectedEmptyHandler].concat(singleCtrlSelectSlotHandler)}},multi:{on:{SELECT_SLOT:[isSelectedEmptyHandler].concat(multiSelectSlotHandler),SELECT_TO_SLOT:[isSelectedEmptyHandler].concat(multiSelectToSlotHandler),CTRL_SELECT_SLOT:[isSelectedEmptyHandler].concat(multiCtrlSelectSlotHandler)}}}},empty:{states:{single:{on:{SELECT_SLOT:[isSelectedNotEmptyHandler].concat(singleSelectSlotHandler),CTRL_SELECT_SLOT:[isSelectedNotEmptyHandler].concat(singleCtrlSelectSlotHandler)}},multi:{on:{SELECT_SLOT:[isSelectedNotEmptyHandler].concat(multiSelectSlotHandler),SELECT_TO_SLOT:[isSelectedNotEmptyHandler].concat(multiSelectToSlotHandler),CTRL_SELECT_SLOT:[isSelectedNotEmptyHandler].concat(multiCtrlSelectSlotHandler)}}}}}},locked:{}}},machineOptions)},chooseState=[{cond:function cond(ctx){return"none"===ctx.selectable},target:"non_selectable"},{cond:function cond(ctx){return"any"===ctx.selectable&&"single"===ctx.selectionMode},target:"selectable.any.single"},{cond:function cond(ctx){return"any"===ctx.selectable&&"multi"===ctx.selectionMode},target:"selectable.any.multi"},{cond:function cond(ctx){return"non_empty"===ctx.selectable&&"single"===ctx.selectionMode},target:"selectable.non_empty.single"},{cond:function cond(ctx){return"non_empty"===ctx.selectable&&"multi"===ctx.selectionMode},target:"selectable.non_empty.multi"},{cond:function cond(ctx){return"empty"===ctx.selectable&&"single"===ctx.selectionMode},target:"selectable.empty.single"},{cond:function cond(ctx){return"empty"===ctx.selectable&&"multi"===ctx.selectionMode},target:"selectable.empty.multi"}],isSelectedEmptyHandler={cond:"isSelectedEmpty"},isSelectedNotEmptyHandler={cond:"isSelectedNotEmpty"},singleSelectSlotHandler=[{cond:"isSlotSelected"},{actions:["clearSelectedSlots","selectSlot"]}],singleCtrlSelectSlotHandler=[{cond:"isSlotSelected",actions:["deselectSlot"]},{actions:["clearSelectedSlots","selectSlot"]}],multiSelectSlotHandler=[{actions:["clearSelectedSlots","selectSlot","storeLastSelectedSlot"]}],multiSelectToSlotHandler=[{cond:"isSlotSelected",actions:["deselectSlot"]},{cond:"isLastSelectedSlot",actions:["selectSlotsBetween"]},{actions:["selectSlot","storeLastSelectedSlot"]}],multiCtrlSelectSlotHandler=[{cond:"isSlotSelected",actions:["deselectSlot"]},{actions:["selectSlot"]}],useMachine=__webpack_require__("./node_modules/@xstate/react/es/useMachine.js"),SlotColumnInfo=function SlotColumnInfo(_ref){var slotColumn=_ref.slotColumn,slotBuilder=_ref.slotBuilder,numRows=_ref.numRows,_ref$alignRight=_ref.alignRight,alignRight=void 0!==_ref$alignRight&&_ref$alignRight,gridClasses="px-10 pt-4 gap-4 content-center grid grid-rows-".concat(numRows," grid-cols-1 py-4 select-none");return(0,jsx_runtime.jsx)("div",{className:gridClasses,children:slotColumn.map((function(slot){return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"flex flex-col ".concat(alignRight&&"items-end"," font-medium"),children:slot.address}),(0,jsx_runtime.jsx)("div",{className:"flex",children:slotBuilder(slot)})]},slot.address)}))})},labware_SlotColumnInfo=SlotColumnInfo;try{SlotColumnInfo.displayName="SlotColumnInfo",SlotColumnInfo.__docgenInfo={description:"*\nComponent to display a column of slot fields that contains a label with slot address and component returned by SlotBuilder callback",displayName:"SlotColumnInfo",props:{slotColumn:{defaultValue:null,description:"",name:"slotColumn",required:!0,type:{name:"SlotFieldsFragment[]"}},slotBuilder:{defaultValue:null,description:"",name:"slotBuilder",required:!0,type:{name:"(slot: SlotFieldsFragment) => ReactNode"}},numRows:{defaultValue:null,description:"",name:"numRows",required:!0,type:{name:"number"}},alignRight:{defaultValue:{value:"false"},description:"",name:"alignRight",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/labware/SlotColumnInfo.tsx#SlotColumnInfo"]={docgenInfo:SlotColumnInfo.__docgenInfo,name:"SlotColumnInfo",path:"src/components/labware/SlotColumnInfo.tsx#SlotColumnInfo"})}catch(__react_docgen_typescript_loader_error){}var Labware=function Labware(_ref){var labware=_ref.labware,_onClick=_ref.onClick,onSlotClick=_ref.onSlotClick,onSlotCtrlClick=_ref.onSlotCtrlClick,_ref$selectionMode=_ref.selectionMode,selectionMode=void 0===_ref$selectionMode?"single":_ref$selectionMode,_ref$selectable=_ref.selectable,selectable=void 0===_ref$selectable?"none":_ref$selectable,name=_ref.name,onSelect=_ref.onSelect,onSlotMouseEnter=_ref.onSlotMouseEnter,onSlotMouseLeave=_ref.onSlotMouseLeave,slotText=_ref.slotText,slotSecondaryText=_ref.slotSecondaryText,slotColor=_ref.slotColor,labwareRef=_ref.labwareRef,slotBuilder=_ref.slotBuilder,_useMachine=(0,useMachine.e)(labware_machine({selectionMode:selectionMode,selectable:selectable,slots:labware.slots})),_useMachine2=(0,slicedToArray.Z)(_useMachine,2),current=_useMachine2[0],send=_useMachine2[1],selectedAddresses=current.context.selectedAddresses,_labware$labwareType=labware.labwareType,numRows=_labware$labwareType.numRows,numColumns=_labware$labwareType.numColumns,slots=labware.slots,barcode=labware.barcode;(0,react.useImperativeHandle)(labwareRef,(function(){return{deselectAll:function deselectAll(){return send({type:"RESET_SELECTED"})}}})),(0,react.useEffect)((function(){send({type:"CHANGE_SELECTION_MODE",selectionMode:selectionMode,selectable:selectable})}),[send,selectionMode,selectable]),(0,react.useEffect)((function(){send({type:"UPDATE_SLOTS",slots:null!=slots?slots:[]})}),[send,slots]),(0,react.useEffect)((function(){null==onSelect||onSelect(Array.from(selectedAddresses))}),[onSelect,selectedAddresses]);var gridClasses=classnames_default()({"px-12 gap-4":numColumns<=6,"px-6 gap-2":numColumns>6},"grid grid-rows-".concat(numRows," grid-cols-").concat(numColumns," py-4 select-none")),_slotColor=null!=slotColor?slotColor:function(address,slot){return slotHelper.qp(slot)?"bg-gradient-to-r from-purple-400 via-pink-500 to-red-500":slotHelper.kd(slot)?"bg-sdb-300":void 0},slotByAddress=lodash_default().keyBy(slots,"address"),internalOnClick=react.useCallback((function(address,slot){null==onSlotClick||onSlotClick(address,slot),send({type:"SELECT_SLOT",address:address})}),[onSlotClick,send]),onCtrlClick=(0,react.useCallback)((function(address,slot){null==onSlotCtrlClick||onSlotCtrlClick(address,slot),send({type:"CTRL_SELECT_SLOT",address:address})}),[send,onSlotCtrlClick]),onShiftClick=(0,react.useCallback)((function(address){send({type:"SELECT_TO_SLOT",address:address})}),[send]),slotColumns=react.useMemo((function(){if(numColumns>2)return[];var slotColumns=new Array(numColumns);return slots.forEach((function(slot,index){var colIndex=index%numColumns;slotColumns[colIndex]||(slotColumns[colIndex]=new Array),slotColumns[index%numColumns].push(slot)})),slotColumns}),[numColumns,slots]);return(0,jsx_runtime.jsxs)("div",{className:"flex flex-row",children:[slotColumns.length>0&&slotBuilder&&(0,jsx_runtime.jsx)(labware_SlotColumnInfo,{slotColumn:slotColumns[0],slotBuilder:slotBuilder,numRows:numRows}),(0,jsx_runtime.jsxs)("div",{onClick:function onClick(){return null==_onClick?void 0:_onClick()},className:"inline-block border border-sdb py-2 bg-blue-100 rounded-lg transition duration-300 ease-in-out",children:[(0,jsx_runtime.jsx)("div",{className:gridClasses,children:(0,helpers.Yh)({numColumns:numColumns,numRows:numRows}).map((function(address,i){return(0,jsx_runtime.jsx)(Slot,{address:address,slot:slotByAddress[address],size:numColumns>6||numRows>6?"small":"large",onClick:internalOnClick,onCtrlClick:onCtrlClick,onShiftClick:onShiftClick,onMouseEnter:onSlotMouseEnter,onMouseLeave:onSlotMouseLeave,text:slotText,secondaryText:slotSecondaryText,color:_slotColor,selected:selectedAddresses.has(address)},i)}))}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-start justify-between py-1 px-2 text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider",children:[name&&(0,jsx_runtime.jsx)("span",{children:name}),barcode&&(0,jsx_runtime.jsxs)("span",{className:"inline-flex",children:[(0,jsx_runtime.jsx)(BarcodeIcon.Z,{className:"mr-1 h-4 w-4 text-gray-500"}),barcode]})]})]}),slotColumns.length>1&&slotBuilder&&(0,jsx_runtime.jsx)(labware_SlotColumnInfo,{slotColumn:slotColumns[1],slotBuilder:slotBuilder,numRows:numRows,alignRight:!0})]})},labware_Labware=Labware;try{Labware.displayName="Labware",Labware.__docgenInfo={description:"Component for displaying an individual piece of labware and its slots.\n\nLabware will contain a grid of slots, each of which can hold zero to many samples. The colour and text of each slot\ncan be controlled with callbacks to `slotColor` and `slotText`.\n\nSelection of slots can be controlled with the `selectionMode` and `selectable` parameters. See the params for more details.",displayName:"Labware",props:{labware:{defaultValue:null,description:"The labware to display. May be a new piece of labware not yet persisted on core.",name:"labware",required:!0,type:{name:"LabwareFieldsFragment | NewLabwareLayout"}},name:{defaultValue:null,description:"(Optional) Name to be displayed on the labware",name:"name",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"Callback for when the labware is clicked",name:"onClick",required:!1,type:{name:"(() => void)"}},selectionMode:{defaultValue:{value:"single"},description:"What selection mode should the labware be in? This parameter is ignored if `selectable` is `none`.\n\n<ul>\n  <li>`single` - only a single slot can be selected at once</li>\n  <li>`multi` - multiple slots can be selected at once</li>\n</ul>",name:"selectionMode",required:!1,type:{name:"enum",value:[{value:'"single"'},{value:'"multi"'}]}},selectable:{defaultValue:{value:"none"},description:"Which slots are allowed to be selected?\n<ul>\n  <li>`none` - No slots can be selected</li>\n  <li>`any` - Any slots can be selected</li>\n  <li>`non_empty` - Only slots with samples in can be selected</li>\n  <li>`empty` - Only slots without samples in can be selected</li>\n</ul>",name:"selectable",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"any"'},{value:'"non_empty"'},{value:'"empty"'}]}},onSlotClick:{defaultValue:null,description:"Callback for when a slot is clicked\n@param address the address of the clicked slot\n@param slot the slot",name:"onSlotClick",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => void)"}},onSlotCtrlClick:{defaultValue:null,description:"Callback for when a slot is clicked with Ctrl button held\n@param address the address of the clicked slot\n@param slot the slot",name:"onSlotCtrlClick",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => void)"}},onSelect:{defaultValue:null,description:"Callback for when slots are selected\n@param selected the addresses of the selected slots",name:"onSelect",required:!1,type:{name:"((selected: string[]) => void)"}},onSlotMouseEnter:{defaultValue:null,description:"Callback for when the mouse first hovers over a slot\n@param address the address of the slot\n@param slot the slot",name:"onSlotMouseEnter",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => void)"}},onSlotMouseLeave:{defaultValue:null,description:"Callback for when the mouse moves off a slot\n@param address the address of the slot\n@param slot the slot",name:"onSlotMouseLeave",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => void)"}},slotText:{defaultValue:null,description:"Callback to customise the text for an individual slot\n@param address the address of the slot to customise text of\n@param slot the slot",name:"slotText",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => string)"}},slotSecondaryText:{defaultValue:null,description:"Callback to customise the secondary text for an individual slot. Secondary text appears under slotText.\n@param address the address of the slot to customise secondary text of\n@param slot the slot",name:"slotSecondaryText",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => string)"}},slotColor:{defaultValue:null,description:"Callback to customise the text for an individual slot\n@param address the address of the slot\n@param slot the slot",name:"slotColor",required:!1,type:{name:"((address: string, slot: SlotFieldsFragment) => string)"}},labwareRef:{defaultValue:null,description:"",name:"labwareRef",required:!1,type:{name:"RefObject<LabwareImperativeRef>"}},slotBuilder:{defaultValue:null,description:"A callback that will be called for each slot in the labware. Must return a react component that will be placed\nin the labelled slot beside the component\n@param slot a slot on the given labware",name:"slotBuilder",required:!1,type:{name:"((slot: SlotFieldsFragment) => ReactNode)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/labware/Labware.tsx#Labware"]={docgenInfo:Labware.__docgenInfo,name:"Labware",path:"src/components/labware/Labware.tsx#Labware"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/pagination/Pager.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__("./node_modules/react/index.js");var _buttons_IconButton__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/buttons/IconButton.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function Pager(_ref){var currentPage=_ref.currentPage,numberOfPages=_ref.numberOfPages,pageDownDisabled=_ref.pageDownDisabled,pageUpDisabled=_ref.pageUpDisabled,onPageDownClick=_ref.onPageDownClick,onPageUpClick=_ref.onPageUpClick;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"flex flex-row items-center gap-6 text-sm text-gray-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_buttons_IconButton__WEBPACK_IMPORTED_MODULE_1__.Z,{disabled:pageDownDisabled,onClick:onPageDownClick,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"font-medium",children:currentPage})," of"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"font-medium",children:numberOfPages})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_buttons_IconButton__WEBPACK_IMPORTED_MODULE_1__.Z,{disabled:pageUpDisabled,onClick:onPageUpClick,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})}__webpack_exports__.Z=Pager;try{Pager.displayName="Pager",Pager.__docgenInfo={description:"A pager shows how many pages are available, and allows navigation between those pages.\n\nWorks well with the {@link usePager } hook.",displayName:"Pager",props:{currentPage:{defaultValue:null,description:"The current page",name:"currentPage",required:!0,type:{name:"number"}},numberOfPages:{defaultValue:null,description:"How many pages does the pager have",name:"numberOfPages",required:!0,type:{name:"number"}},pageDownDisabled:{defaultValue:null,description:"Should the page down button be disabled",name:"pageDownDisabled",required:!0,type:{name:"boolean"}},onPageDownClick:{defaultValue:null,description:"Callback for clicking on the page down button",name:"onPageDownClick",required:!0,type:{name:"VoidFunction"}},pageUpDisabled:{defaultValue:null,description:"Should the page up button be disabled",name:"pageUpDisabled",required:!0,type:{name:"boolean"}},onPageUpClick:{defaultValue:null,description:"Callback for clicking on the page down button",name:"onPageUpClick",required:!0,type:{name:"VoidFunction"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/pagination/Pager.tsx#Pager"]={docgenInfo:Pager.__docgenInfo,name:"Pager",path:"src/components/pagination/Pager.tsx#Pager"})}catch(__react_docgen_typescript_loader_error){}},"./src/lib/hooks/usePager.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Y:function(){return usePager}});var _home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function pagerReducer(state,action){var currentPage,numberOfPages;switch(action.type){case"PAGE_UP":return state.currentPage<state.numberOfPages?(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},state),{},{currentPage:state.currentPage+1}):state;case"PAGE_DOWN":return state.currentPage>1?(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},state),{},{currentPage:state.currentPage-1}):state;case"GO_TO_LAST_PAGE":return(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},state),{},{currentPage:state.numberOfPages});case"SET_NUMBER_OF_PAGES":return(numberOfPages=action.numberOfPages)<0&&(numberOfPages=0),(currentPage=state.currentPage)>numberOfPages?currentPage=numberOfPages:0===currentPage&&(currentPage=1),(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},state),{},{numberOfPages:numberOfPages,currentPage:currentPage});case"SET_CURRENT_PAGE":return(currentPage=action.currentPage)<1?currentPage=1:currentPage>state.numberOfPages&&(currentPage=state.numberOfPages),(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},state),{},{currentPage:currentPage})}return state}function usePager(_ref){var initialCurrentPage=_ref.initialCurrentPage,initialNumberOfPages=_ref.initialNumberOfPages,_useReducer=(0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(pagerReducer,{currentPage:initialCurrentPage,numberOfPages:initialNumberOfPages}),_useReducer2=(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1],setNumberOfPages=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(numberOfPages){return dispatch({type:"SET_NUMBER_OF_PAGES",numberOfPages:numberOfPages})}),[dispatch]),goToLastPage=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return dispatch({type:"GO_TO_LAST_PAGE"})}),[dispatch]),onPageUpClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return dispatch({type:"PAGE_UP"})}),[dispatch]),onPageDownClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return dispatch({type:"PAGE_DOWN"})}),[dispatch]),setCurrentPage=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(currentPage){return dispatch({type:"SET_CURRENT_PAGE",currentPage:currentPage})}),[dispatch]);return(0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_stan_client_stan_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},state),{},{setCurrentPage:setCurrentPage,setNumberOfPages:setNumberOfPages,goToLastPage:goToLastPage,onPageUpClick:onPageUpClick,onPageDownClick:onPageDownClick,pageUpDisabled:state.currentPage===state.numberOfPages,pageDownDisabled:1===state.currentPage})}},"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_require__.d(__webpack_exports__,{Z:function(){return _asyncToGenerator}})},"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_require__.d(__webpack_exports__,{Z:function(){return _objectWithoutProperties}})}}]);