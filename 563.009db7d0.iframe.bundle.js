"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[563],{"./src/components/Modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,cw:()=>ModalBody,jl:()=>ModalFooter,rQ:()=>ModalHeader});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Modal=_ref=>{let{children,show}=_ref;return show?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"fixed z-20 inset-0 overflow-y-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block xl:p-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-screen-md sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children})]})}):null},__WEBPACK_DEFAULT_EXPORT__=Modal,ModalHeader=_ref2=>{let{children}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("h3",{className:"border-b-2 border-gray-200 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 bg-gray-100 text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children})},ModalBody=_ref3=>{let{children}=_ref3;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children})},ModalFooter=_ref4=>{let{children}=_ref4;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"bg-gray-100 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children})};try{Modal.displayName="Modal",Modal.__docgenInfo={description:"",displayName:"Modal",props:{show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal.tsx#Modal"]={docgenInfo:Modal.__docgenInfo,name:"Modal",path:"src/components/Modal.tsx#Modal"})}catch(__react_docgen_typescript_loader_error){}try{ModalHeader.displayName="ModalHeader",ModalHeader.__docgenInfo={description:"",displayName:"ModalHeader",props:{show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal.tsx#ModalHeader"]={docgenInfo:ModalHeader.__docgenInfo,name:"ModalHeader",path:"src/components/Modal.tsx#ModalHeader"})}catch(__react_docgen_typescript_loader_error){}try{ModalBody.displayName="ModalBody",ModalBody.__docgenInfo={description:"",displayName:"ModalBody",props:{show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal.tsx#ModalBody"]={docgenInfo:ModalBody.__docgenInfo,name:"ModalBody",path:"src/components/Modal.tsx#ModalBody"})}catch(__react_docgen_typescript_loader_error){}try{ModalFooter.displayName="ModalFooter",ModalFooter.__docgenInfo={description:"",displayName:"ModalFooter",props:{show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal.tsx#ModalFooter"]={docgenInfo:ModalFooter.__docgenInfo,name:"ModalFooter",path:"src/components/Modal.tsx#ModalFooter"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/MutedText.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const MutedText=_ref=>{let{children,className,...rest}=_ref;const pClassNames=classnames__WEBPACK_IMPORTED_MODULE_1___default()("my-2 text-gray-700 lg:text-xs italic",className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{className:pClassNames,...rest,children})},__WEBPACK_DEFAULT_EXPORT__=MutedText;try{MutedText.displayName="MutedText",MutedText.__docgenInfo={description:"A paragraph of softer text",displayName:"MutedText",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MutedText.tsx#MutedText"]={docgenInfo:MutedText.__docgenInfo,name:"MutedText",path:"src/components/MutedText.tsx#MutedText"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Pill.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Pill=_ref=>{let{color,children,className}=_ref;const spanClassName=classnames__WEBPACK_IMPORTED_MODULE_1___default()({"bg-sp text-gray-100":"pink"===color,"bg-sdb-300 text-gray-100":"blue"===color},"px-2 rounded-full font-semibold text-sm",className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:spanClassName,children})},__WEBPACK_DEFAULT_EXPORT__=Pill;try{Pill.displayName="Pill",Pill.__docgenInfo={description:"",displayName:"Pill",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"pink"'},{value:'"blue"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Pill.tsx#Pill"]={docgenInfo:Pill.__docgenInfo,name:"Pill",path:"src/components/Pill.tsx#Pill"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Table.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BF:()=>TableBody,nA:()=>TableCell,nd:()=>TableHead,A0:()=>TableHeader,Ay:()=>components_Table});__webpack_require__("./node_modules/react/index.js");var IconButton=__webpack_require__("./src/components/buttons/IconButton.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const DownArrowIcon=()=>(0,jsx_runtime.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",transform:"rotate(270)",children:(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),icons_DownArrowIcon=DownArrowIcon;try{DownArrowIcon.displayName="DownArrowIcon",DownArrowIcon.__docgenInfo={description:"",displayName:"DownArrowIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/DownArrowIcon.tsx#DownArrowIcon"]={docgenInfo:DownArrowIcon.__docgenInfo,name:"DownArrowIcon",path:"src/components/icons/DownArrowIcon.tsx#DownArrowIcon"})}catch(__react_docgen_typescript_loader_error){}const icons_UpArrowIcon=()=>(0,jsx_runtime.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",transform:"rotate(90)",children:(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})});try{UpArrowIcon.displayName="UpArrowIcon",UpArrowIcon.__docgenInfo={description:"",displayName:"UpArrowIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/UpArrowIcon.tsx#UpArrowIcon"]={docgenInfo:UpArrowIcon.__docgenInfo,name:"UpArrowIcon",path:"src/components/icons/UpArrowIcon.tsx#UpArrowIcon"})}catch(__react_docgen_typescript_loader_error){}const Table=_ref=>{let{children,...rest}=_ref;return(0,jsx_runtime.jsx)("div",{className:"flex flex-col overflow-auto max-h-screen",datatype:"table-wrapper",children:(0,jsx_runtime.jsx)("div",{className:"py-2 align-middle inline-block min-w-full",children:(0,jsx_runtime.jsx)("div",{className:"shadow border-b border-gray-200 sm:rounded-lg",children:(0,jsx_runtime.jsx)("table",{className:"min-w-full divide-y divide-gray-200",...rest,children})})})})},components_Table=Table,TableHead=_ref2=>{let{children,fixed=!1}=_ref2;return(0,jsx_runtime.jsx)("thead",{className:"".concat(fixed?"sticky top-0":""),children})},TableHeader=_ref3=>{let{children,sortProps,allCapital=!0,colSpan,...rest}=_ref3;return(0,jsx_runtime.jsx)("th",{className:"px-6 py-3 bg-gray-50 text-left select-none",colSpan,...rest,children:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(IconButton.A,{type:"button","data-testid":"".concat(sortProps&&sortProps.sortFieldName,"-SortButton"),onClick:()=>{sortProps&&sortProps.sortHandler(sortProps.sortFieldName)},children:[(0,jsx_runtime.jsx)("span",{className:"bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 tracking-wide ".concat(allCapital?"uppercase":""),children}),sortProps&&(void 0!==sortProps.ascending?sortProps.ascending?(0,jsx_runtime.jsx)(icons_UpArrowIcon,{}):(0,jsx_runtime.jsx)(icons_DownArrowIcon,{}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}))]})})})},TableBody=_ref4=>{let{children,...rest}=_ref4;return(0,jsx_runtime.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 overflow-x-hidden",...rest,children})},TableCell=_ref5=>{let{children,className,...rest}=_ref5;return(0,jsx_runtime.jsx)("td",{className:"px-6 py-4 ".concat(className||"whitespace-nowrap"),...rest,children})},TabelSubHeader=_ref6=>{let{children,...rest}=_ref6;return _jsx("div",{className:"flex text-xs font-medium text-gray-500 uppercase",...rest,children})},TabelCentredCell=_ref7=>{let{children,...rest}=_ref7;return _jsx("div",{className:"flex items-center justify-center",...rest,children})};try{Table.displayName="Table",Table.__docgenInfo={description:"",displayName:"Table",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table.tsx#Table"]={docgenInfo:Table.__docgenInfo,name:"Table",path:"src/components/Table.tsx#Table"})}catch(__react_docgen_typescript_loader_error){}try{TableHead.displayName="TableHead",TableHead.__docgenInfo={description:"",displayName:"TableHead",props:{fixed:{defaultValue:{value:"false"},description:"",name:"fixed",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table.tsx#TableHead"]={docgenInfo:TableHead.__docgenInfo,name:"TableHead",path:"src/components/Table.tsx#TableHead"})}catch(__react_docgen_typescript_loader_error){}try{TableHeader.displayName="TableHeader",TableHeader.__docgenInfo={description:"",displayName:"TableHeader",props:{sortProps:{defaultValue:null,description:"",name:"sortProps",required:!1,type:{name:"SortProps"}},allCapital:{defaultValue:{value:"true"},description:"",name:"allCapital",required:!1,type:{name:"boolean"}},colSpan:{defaultValue:null,description:"",name:"colSpan",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table.tsx#TableHeader"]={docgenInfo:TableHeader.__docgenInfo,name:"TableHeader",path:"src/components/Table.tsx#TableHeader"})}catch(__react_docgen_typescript_loader_error){}try{TableBody.displayName="TableBody",TableBody.__docgenInfo={description:"",displayName:"TableBody",props:{fixed:{defaultValue:{value:"false"},description:"",name:"fixed",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table.tsx#TableBody"]={docgenInfo:TableBody.__docgenInfo,name:"TableBody",path:"src/components/Table.tsx#TableBody"})}catch(__react_docgen_typescript_loader_error){}try{TableCell.displayName="TableCell",TableCell.__docgenInfo={description:"",displayName:"TableCell",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table.tsx#TableCell"]={docgenInfo:TableCell.__docgenInfo,name:"TableCell",path:"src/components/Table.tsx#TableCell"})}catch(__react_docgen_typescript_loader_error){}try{TabelSubHeader.displayName="TabelSubHeader",TabelSubHeader.__docgenInfo={description:"",displayName:"TabelSubHeader",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table.tsx#TabelSubHeader"]={docgenInfo:TabelSubHeader.__docgenInfo,name:"TabelSubHeader",path:"src/components/Table.tsx#TabelSubHeader"})}catch(__react_docgen_typescript_loader_error){}try{TabelCentredCell.displayName="TabelCentredCell",TabelCentredCell.__docgenInfo={description:"",displayName:"TabelCentredCell",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table.tsx#TabelCentredCell"]={docgenInfo:TabelCentredCell.__docgenInfo,name:"TabelCentredCell",path:"src/components/Table.tsx#TabelCentredCell"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/buttons/IconButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react/jsx-runtime.js"));const IconButton=_ref=>{let{children,disabled=!1,dataTestId,...rest}=_ref;const buttonClassNames=classnames__WEBPACK_IMPORTED_MODULE_0___default()({"hover:bg-gray-100 focus:outline-none focus:bg-gray-100 hover:text-gray-600":!disabled,"cursor-not-allowed":disabled},"inline-flex items-center justify-center p-2 rounded-md text-gray-400");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{...rest,className:buttonClassNames,"data-testid":null!=dataTestId?dataTestId:"",children})},__WEBPACK_DEFAULT_EXPORT__=IconButton;try{IconButton.displayName="IconButton",IconButton.__docgenInfo={description:"",displayName:"IconButton",props:{disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/buttons/IconButton.tsx#IconButton"]={docgenInfo:IconButton.__docgenInfo,name:"IconButton",path:"src/components/buttons/IconButton.tsx#IconButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/buttons/RemoveButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _icons_RemoveIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/icons/RemoveIcon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const RemoveButton=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{"data-testid":"removeButton",...props,className:"inline-flex items-center justify-center p-2 rounded-md hover:bg-red-100 focus:outline-none focus:bg-red-100 text-red-400 hover:text-red-600 disabled:text-gray-200",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_icons_RemoveIcon__WEBPACK_IMPORTED_MODULE_1__.A,{className:"block h-5 w-5"})}),__WEBPACK_DEFAULT_EXPORT__=RemoveButton;try{RemoveButton.displayName="RemoveButton",RemoveButton.__docgenInfo={description:"",displayName:"RemoveButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/buttons/RemoveButton.tsx#RemoveButton"]={docgenInfo:RemoveButton.__docgenInfo,name:"RemoveButton",path:"src/components/buttons/RemoveButton.tsx#RemoveButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/dataTableColumns/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function joinUnique(array){return Array.from(new Set(array)).join(", ")}__webpack_require__.d(__webpack_exports__,{EG:()=>joinUnique,lI:()=>valueFromSamples,ne:()=>samplesFromLabwareOrSLot});const samplesFromLabwareOrSLot=labwareOrSlot=>"labwareType"in labwareOrSlot?labwareOrSlot.slots.flatMap((slot=>slot.samples)):labwareOrSlot.samples;function valueFromSamples(labwareOrSlot,sampleFunction){return joinUnique(samplesFromLabwareOrSLot(labwareOrSlot).map(sampleFunction))}},"./src/components/dataTableColumns/labwareColumns.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RF:()=>FlaggedBarcodeLink,Ay:()=>labwareColumns});__webpack_require__("./node_modules/react/index.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Circle=_ref=>{let{backgroundColor}=_ref;return(0,jsx_runtime.jsx)("span",{className:"inline-block h-8 w-8 rounded-full bg-".concat(backgroundColor,"-600")})},components_Circle=Circle;try{Circle.displayName="Circle",Circle.__docgenInfo={description:"",displayName:"Circle",props:{backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Circle.tsx#Circle"]={docgenInfo:Circle.__docgenInfo,name:"Circle",path:"src/components/Circle.tsx#Circle"})}catch(__react_docgen_typescript_loader_error){}var slotHelper=__webpack_require__("./src/lib/helpers/slotHelper.ts"),dataTableColumns=__webpack_require__("./src/components/dataTableColumns/index.ts"),dist=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);const StyledLink=_ref=>{let{children,className,...rest}=_ref;const linkClassName=classnames_default()("text-sp-600 hover:text-sp-700 font-semibold hover:underline text-base tracking-wide",className);return(0,jsx_runtime.jsx)(dist.N_,{className:linkClassName,...rest,children})},components_StyledLink=StyledLink;try{StyledLink.displayName="StyledLink",StyledLink.__docgenInfo={description:"",displayName:"StyledLink",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/StyledLink.tsx#StyledLink"]={docgenInfo:StyledLink.__docgenInfo,name:"StyledLink",path:"src/components/StyledLink.tsx#StyledLink"})}catch(__react_docgen_typescript_loader_error){}var FlagIcon=__webpack_require__("./src/components/icons/FlagIcon.tsx"),MutedText=__webpack_require__("./src/components/MutedText.tsx");const FlaggedBarcodeLink=barcode=>(0,jsx_runtime.jsx)("div",{className:"whitespace-nowrap",children:(0,jsx_runtime.jsxs)(components_StyledLink,{className:"text-sp bg-transparent hover:text-sp-700 active:text-sp-800",to:"/labware/".concat(barcode),target:"_blank",children:[(0,jsx_runtime.jsx)(FlagIcon.A,{className:"inline-block h-5 w-5 -ml-1 mr-1 mb-2"}),barcode]})}),spatialLocationColumnDiv=samples=>(0,jsx_runtime.jsxs)("div",{children:[(0,dataTableColumns.EG)(samples.map((sample=>String(sample.tissue.spatialLocation.code)))),(0,jsx_runtime.jsx)(MutedText.A,{children:(0,dataTableColumns.EG)(samples.map((sample=>String(sample.tissue.spatialLocation.name))))})]}),labwareColumns={color:meta=>({id:"color",Header:"",accessor:originalRow=>{var _meta$get,_originalRow$slots$,_originalRow$slots$$s;return null!==(_meta$get=null==meta?void 0:meta.get(null===(_originalRow$slots$=originalRow.slots[0])||void 0===_originalRow$slots$||null===(_originalRow$slots$$s=_originalRow$slots$.samples[0])||void 0===_originalRow$slots$$s?void 0:_originalRow$slots$$s.id))&&void 0!==_meta$get?_meta$get:"#FFF"},Cell:props=>(0,jsx_runtime.jsx)(components_Circle,{backgroundColor:props.value})}),barcode:()=>({Header:"Barcode",accessor:"barcode",id:"barcode"}),flaggedBarcode:()=>({Header:"Barcode",accessor:lw=>lw.flagged?FlaggedBarcodeLink(lw.barcode):lw.barcode}),donorId:()=>({Header:"Donor ID",accessor:labware=>(0,dataTableColumns.lI)(labware,(sample=>sample.tissue.donor.donorName))}),tissueType:()=>({Header:"Tissue type",accessor:labware=>(0,dataTableColumns.lI)(labware,(sample=>sample.tissue.spatialLocation.tissueType.name))}),spatialLocation:()=>({Header:"Spatial location",accessor:labware=>{const samples=(0,dataTableColumns.ne)(labware);return spatialLocationColumnDiv(samples)}}),replicate:()=>({Header:"Replicate",accessor:labware=>(0,dataTableColumns.lI)(labware,(sample=>{var _sample$tissue$replic;return String(null!==(_sample$tissue$replic=sample.tissue.replicate)&&void 0!==_sample$tissue$replic?_sample$tissue$replic:"")}))}),labwareType:()=>({Header:"Labware Type",accessor:labware=>labware.labwareType.name}),externalName:()=>({Header:"External ID",accessor:labware=>(0,dataTableColumns.lI)(labware,(sample=>{var _sample$tissue$extern;return null!==(_sample$tissue$extern=sample.tissue.externalName)&&void 0!==_sample$tissue$extern?_sample$tissue$extern:""}))}),bioState:()=>({Header:"Bio state",accessor:labware=>(0,dataTableColumns.lI)(labware,(sample=>sample.bioState.name))}),highestSectionForSlot:slotAddress=>({Header:"Highest Section for Block",accessor:labware=>{var _maybeFindSlotByAddre,_maybeFindSlotByAddre2;return null!==(_maybeFindSlotByAddre=null===(_maybeFindSlotByAddre2=(0,slotHelper.HQ)(labware.slots,slotAddress))||void 0===_maybeFindSlotByAddre2?void 0:_maybeFindSlotByAddre2.blockHighestSection)&&void 0!==_maybeFindSlotByAddre?_maybeFindSlotByAddre:"-"}}),medium:()=>({Header:"Medium",accessor:labware=>labware.slots[0].samples.length>0?labware.slots[0].samples[0].tissue.medium.name:""}),fixative:()=>({Header:"Fixative",accessor:labware=>labware.slots[0].samples.length>0?labware.slots[0].samples[0].tissue.fixative.name:""})};try{FlaggedBarcodeLink.displayName="FlaggedBarcodeLink",FlaggedBarcodeLink.__docgenInfo={description:"",displayName:"FlaggedBarcodeLink",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dataTableColumns/labwareColumns.tsx#FlaggedBarcodeLink"]={docgenInfo:FlaggedBarcodeLink.__docgenInfo,name:"FlaggedBarcodeLink",path:"src/components/dataTableColumns/labwareColumns.tsx#FlaggedBarcodeLink"})}catch(__react_docgen_typescript_loader_error){}try{spatialLocationColumnDiv.displayName="spatialLocationColumnDiv",spatialLocationColumnDiv.__docgenInfo={description:"Spatial location code for the first sample in the first slot of the labware",displayName:"spatialLocationColumnDiv",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dataTableColumns/labwareColumns.tsx#spatialLocationColumnDiv"]={docgenInfo:spatialLocationColumnDiv.__docgenInfo,name:"spatialLocationColumnDiv",path:"src/components/dataTableColumns/labwareColumns.tsx#spatialLocationColumnDiv"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/forms/Label.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>forms_Label});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),Pill=__webpack_require__("./src/components/Pill.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const InfoIcon=props=>(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"26",width:"26",fill:"currentColor",...props,"data-testid":"info-icon",children:(0,jsx_runtime.jsx)("path",{d:"M11 17h2v-6h-2Zm1-8q.425 0 .713-.288Q13 8.425 13 8t-.287-.713Q12.425 7 12 7t-.712.287Q11 7.575 11 8t.288.712Q11.575 9 12 9Zm0 13q-2.075 0-3.9-.788-1.825-.787-3.175-2.137-1.35-1.35-2.137-3.175Q2 14.075 2 12t.788-3.9q.787-1.825 2.137-3.175 1.35-1.35 3.175-2.138Q9.925 2 12 2t3.9.787q1.825.788 3.175 2.138 1.35 1.35 2.137 3.175Q22 9.925 22 12t-.788 3.9q-.787 1.825-2.137 3.175-1.35 1.35-3.175 2.137Q14.075 22 12 22Zm0-2q3.35 0 5.675-2.325Q20 15.35 20 12q0-3.35-2.325-5.675Q15.35 4 12 4 8.65 4 6.325 6.325 4 8.65 4 12q0 3.35 2.325 5.675Q8.65 20 12 20Zm0-8Z"})}),icons_InfoIcon=InfoIcon;try{InfoIcon.displayName="InfoIcon",InfoIcon.__docgenInfo={description:"Info SVG icon",displayName:"InfoIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/InfoIcon.tsx#InfoIcon"]={docgenInfo:InfoIcon.__docgenInfo,name:"InfoIcon",path:"src/components/icons/InfoIcon.tsx#InfoIcon"})}catch(__react_docgen_typescript_loader_error){}const motionVariants={fadeIn:{visible:{opacity:1},hidden:{opacity:0}},fadeInWithLift:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},fadeInParent:{visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.1}},hidden:{opacity:0,transition:{when:"afterChildren"}}},menuVariants:{hidden:{height:0,transition:{when:"afterChildren",duration:.3}},visible:{height:"auto",opacity:1,transition:{when:"beforeChildren",duration:.2}}},menuItemVariants:{hidden:{opacity:0,transition:{duration:.1}},visible:{opacity:1,transition:{duration:.1}}}};var motion=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs"),FailIcon=__webpack_require__("./src/components/icons/FailIcon.tsx"),Modal=__webpack_require__("./src/components/Modal.tsx");const Information=_ref=>{let{title,children,className}=_ref;const infoClassName=classnames_default()("relative justify-center align-middle items-center space-x-2",className),[hover,setHover]=react.useState(!1);return(0,jsx_runtime.jsxs)("div",{"data-testid":"info-div",className:infoClassName,onMouseOver:()=>setHover(!0),onMouseLeave:()=>setHover(!1),children:[(0,jsx_runtime.jsx)(icons_InfoIcon,{className:"bg-white inline-block ".concat(hover?"text-blue-600":"text-blue-400")}),hover&&(0,jsx_runtime.jsx)(motion.P.div,{variants:motionVariants.fadeInWithLift,initial:"hidden",animate:"visible",className:"relative",children:(0,jsx_runtime.jsxs)(Modal.Ay,{show:hover,children:[(0,jsx_runtime.jsxs)(Modal.rQ,{children:[(0,jsx_runtime.jsx)("div",{className:"flex flex-row items-end justify-end",children:(0,jsx_runtime.jsx)(FailIcon.A,{onClick:()=>setHover(!1),className:"w-5 h-5 cursor-pointer hover:text-red-500 text-red-400\n                    }"})}),title&&(0,jsx_runtime.jsx)("div",{children:title})]}),(0,jsx_runtime.jsx)(Modal.cw,{children:(0,jsx_runtime.jsx)("div",{className:"flex flex-col p-1 space-y-2",onMouseLeave:()=>setHover(!1),children})})]})})]})},notifications_Information=Information;try{Information.displayName="Information",Information.__docgenInfo={description:"",displayName:"Information",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/notifications/Information.tsx#Information"]={docgenInfo:Information.__docgenInfo,name:"Information",path:"src/components/notifications/Information.tsx#Information"})}catch(__react_docgen_typescript_loader_error){}const Label=_ref=>{let{name,displayTag,info,children,className,...rest}=_ref;const labelClassName=classnames_default()("block",className);return(0,jsx_runtime.jsxs)("label",{...rest,className:labelClassName,children:[(0,jsx_runtime.jsxs)("span",{className:"text-gray-800 mr-3 flex flex-row gap-x-1",children:[name,info&&(0,jsx_runtime.jsx)(notifications_Information,{title:name,children:info})]}),displayTag&&(0,jsx_runtime.jsx)(Pill.A,{color:"pink",children:displayTag}),children]})},forms_Label=Label;try{Label.displayName="Label",Label.__docgenInfo={description:"",displayName:"Label",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},displayTag:{defaultValue:null,description:"",name:"displayTag",required:!1,type:{name:"string"}},info:{defaultValue:null,description:"",name:"info",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/Label.tsx#Label"]={docgenInfo:Label.__docgenInfo,name:"Label",path:"src/components/forms/Label.tsx#Label"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/FailIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>FailIcon});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function FailIcon(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","data-testid":"failIcon",viewBox:"0 0 20 20",fill:"currentColor",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}try{FailIcon.displayName="FailIcon",FailIcon.__docgenInfo={description:"",displayName:"FailIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/FailIcon.tsx#FailIcon"]={docgenInfo:FailIcon.__docgenInfo,name:"FailIcon",path:"src/components/icons/FailIcon.tsx#FailIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/LockIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const LockIcon=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),__WEBPACK_DEFAULT_EXPORT__=LockIcon;try{LockIcon.displayName="LockIcon",LockIcon.__docgenInfo={description:"Heroicon lock icon",displayName:"LockIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/LockIcon.tsx#LockIcon"]={docgenInfo:LockIcon.__docgenInfo,name:"LockIcon",path:"src/components/icons/LockIcon.tsx#LockIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/RemoveIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const RemoveIcon=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),__WEBPACK_DEFAULT_EXPORT__=RemoveIcon;try{RemoveIcon.displayName="RemoveIcon",RemoveIcon.__docgenInfo={description:"Remove SVG icon",displayName:"RemoveIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/RemoveIcon.tsx#RemoveIcon"]={docgenInfo:RemoveIcon.__docgenInfo,name:"RemoveIcon",path:"src/components/icons/RemoveIcon.tsx#RemoveIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/labwareScanner/LabwareScanner.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>LabwareScanner,P:()=>useLabwareContext});var react=__webpack_require__("./node_modules/react/index.js"),xstate_react_esm=__webpack_require__("./node_modules/@xstate/react/dist/xstate-react.esm.js"),xstate_esm=__webpack_require__("./node_modules/xstate/dist/xstate.esm.js"),xstate_actors_esm=__webpack_require__("./node_modules/xstate/actors/dist/xstate-actors.esm.js"),log_c48e8ab0_esm=__webpack_require__("./node_modules/xstate/dist/log-c48e8ab0.esm.js"),stan=__webpack_require__("./src/types/stan.ts"),sdk=__webpack_require__("./src/lib/sdk.ts"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),labwareHelper=__webpack_require__("./src/lib/helpers/labwareHelper.ts");const resolveStringArrayPromise=data=>{let resolvedData=[];return Array.isArray(data)?resolvedData=data:data.then((resolved=>{resolvedData=resolved})),resolvedData},createLabwareMachine=()=>(0,xstate_esm.Op)({types:{},context:_ref=>{let{input}=_ref;return{...input}},id:"labwareScanner",initial:"checking_full",states:{checking_full:{always:[{guard:_ref2=>{let{context}=_ref2;return context.labwares.length===context.limit},target:"full"},{target:"idle"}]},full:{on:{REMOVE_LABWARE:{target:"#labwareScanner.idle.success",actions:["removeLabware"]}}},idle:{initial:"normal",states:{normal:{},error:{},success:{}},on:{UPDATE_CURRENT_BARCODE:{target:"#labwareScanner.idle.normal",actions:"assignCurrentBarcode"},SUBMIT_BARCODE:[{target:"validating",guard:"barcodeNotPresent"},{target:"#labwareScanner.idle.error",actions:"assignErrorMessage"}],REMOVE_LABWARE:{target:"#labwareScanner.idle.success",actions:["removeLabware"]},LOCK:"locked"}},locked:{on:{UNLOCK:"checking_full"}},validating:{invoke:{id:"validateBarcode",src:(0,xstate_actors_esm.Sx)((_ref3=>{let{input}=_ref3;return input.validator.validate(input.currentBarcode)})),input:_ref4=>{let{context}=_ref4;return{validator:context.validator,currentBarcode:context.currentBarcode}},onDone:[{target:"searching",guard:_ref5=>{let{context}=_ref5;return!1===context.locationScan}},{target:"searchingLocation"}],onError:{target:"#labwareScanner.idle.error",actions:"assignValidationError"}}},searching:{invoke:{id:"findLabware",src:(0,xstate_actors_esm.Sx)((_ref6=>{let{input}=_ref6;return input.enableFlaggedLabwareCheck?sdk.Uc.FindFlaggedLabware({barcode:input.currentBarcode}):sdk.Uc.FindLabware({barcode:input.currentBarcode})})),input:_ref7=>{let{context:{enableFlaggedLabwareCheck,currentBarcode}}=_ref7;return{enableFlaggedLabwareCheck,currentBarcode}},onDone:{target:"validatingFoundLabware",actions:["assignFoundLabware"]},onError:{target:"#labwareScanner.idle.error",actions:"assignFindError"}}},searchingLocation:{invoke:{id:"findLocation",src:(0,xstate_actors_esm.Sx)((_ref8=>{let{input}=_ref8;return sdk.Uc.GetLabwareInLocation({locationBarcode:input.currentBarcode})})),input:_ref9=>{let{context:{currentBarcode}}=_ref9;return{currentBarcode}},onDone:{target:"#labwareScanner.idle.normal",actions:["assignFoundLocationLabwareIfValid"]},onError:{target:"#labwareScanner.idle.error",actions:"assignFindError"}}},validatingFoundLabware:{invoke:{id:"validateFoundLabware",src:(0,xstate_actors_esm.Sx)((_ref10=>{let{input}=_ref10;return new Promise((async(resolve,reject)=>{const problems=resolveStringArrayPromise(input.foundLabware?input.foundLabwareCheck?await input.foundLabwareCheck(input.labwares,input.foundLabware):[]:["Labware not loaded."]);0===problems.length?resolve(input.foundLabware):reject(problems)}))})),input:_ref11=>{let{context}=_ref11;return{labwares:context.labwares,foundLabware:context.foundLabware,foundLabwareCheck:context.foundLabwareCheck}},onDone:{target:"#labwareScanner.checking_full",actions:["addFoundLabware"]},onError:{target:"#labwareScanner.idle.error",actions:["foundLabwareCheckError"]}}}}},{actions:{assignCurrentBarcode:(0,log_c48e8ab0_esm.a)((_ref12=>{let{context,event}=_ref12;return"UPDATE_CURRENT_BARCODE"!==event.type||(context.currentBarcode=event.value.replace(/\s+/g,""),context.errorMessage="",context.locationScan=event.locationScan),context})),assignErrorMessage:(0,log_c48e8ab0_esm.a)((_ref13=>{let{context,event}=_ref13;return"SUBMIT_BARCODE"!==event.type||(context.errorMessage=alreadyScannedBarcodeError(context.currentBarcode)),context})),removeLabware:(0,log_c48e8ab0_esm.a)((_ref14=>{let{context,event}=_ref14;if("REMOVE_LABWARE"!==event.type)return context;const removeLabwareIndex=(0,lodash.findIndex)(context.labwares,{barcode:event.value});return removeLabwareIndex<0||(context.removedLabware={labware:context.labwares[removeLabwareIndex],index:removeLabwareIndex},context.labwares=context.labwares.filter(((_,index)=>index!==removeLabwareIndex)),context.successMessage='"'.concat(event.value,'" removed')),context})),assignValidationError:(0,log_c48e8ab0_esm.a)((_ref15=>{let{context,event}=_ref15;return"xstate.error.actor.validateBarcode"!==event.type?context:{context,errorMessage:event.error.errors.join("\n")}})),assignFoundLabware:(0,log_c48e8ab0_esm.a)((_ref16=>{let{context,event}=_ref16;return"xstate.done.actor.findLabware"!==event.type||(context.foundLabware=context.enableFlaggedLabwareCheck?event.output.labwareFlagged:(0,labwareHelper.jY)([event.output.labware])[0],context.currentBarcode=""),context})),addFoundLabware:(0,log_c48e8ab0_esm.a)((_ref17=>{let{context,event}=_ref17;return"xstate.done.actor.validateFoundLabware"!==event.type||(context.labwares=[...context.labwares,event.output],context.foundLabware=null),context})),assignFoundLocationLabwareIfValid:(0,log_c48e8ab0_esm.a)((_ref18=>{let{context,event}=_ref18;if("xstate.done.actor.findLocation"!==event.type)return context;const problems=[];return event.output.labwareInLocation.filter((labware=>-1===context.labwares.findIndex((ctxLabware=>ctxLabware.barcode===labware.barcode)))),event.output.labwareInLocation.forEach((labware=>{let problem=[];context.labwares.find((ctxLabware=>ctxLabware.barcode===labware.barcode))?problem.push(alreadyScannedBarcodeError(labware.barcode)):problem=resolveStringArrayPromise(context.foundLabwareCheck?context.foundLabwareCheck((0,labwareHelper.jY)(event.output.labwareInLocation),(0,labwareHelper.jY)([labware])[0]):[]),0!==problem.length?problems.push(problem.join("\n")):context.labwares=[...context.labwares,(0,labwareHelper.jY)([labware])[0]]})),problems.length>0&&(context.errorMessage=problems.join("\n")),context.currentBarcode="",context})),foundLabwareCheckError:(0,log_c48e8ab0_esm.a)((_ref19=>{var _event$error;let{context,event}=_ref19;return"xstate.error.actor.validateFoundLabware"!==event.type||(context.errorMessage=null===(_event$error=event.error)||void 0===_event$error?void 0:_event$error.join("\n")),context})),assignFindError:(0,log_c48e8ab0_esm.a)((_ref20=>{let{context,event}=_ref20;return"xstate.error.actor.findLabware"!==event.type&&"xstate.error.actor.findLocation"!==event.type||(context.errorMessage=handleFindError(event.error)),context}))},guards:{barcodeNotPresent:_ref21=>{let{context}=_ref21;return!context.labwares.map((lw=>lw.barcode)).includes(context.currentBarcode)}}}),alreadyScannedBarcodeError=barcode=>'"'.concat(barcode,'" has already been scanned'),handleFindError=error=>{let errors=(0,stan.UG)(error);return null==errors?void 0:errors.message};var ScanInput=__webpack_require__("./src/components/scanInput/ScanInput.tsx"),Success=__webpack_require__("./src/components/notifications/Success.tsx"),Warning=__webpack_require__("./src/components/notifications/Warning.tsx"),index_esm=__webpack_require__("./node_modules/yup/index.esm.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function LabwareScanner(_ref){let{initialLabwares,locked=!1,limit,labwareCheckFunction,onChange,onAdd,onRemove,children,enableLocationScanner,enableFlaggedLabwareCheck=!1}=_ref;const slicedInitialLabware=react.useMemo((()=>initialLabwares?limit&&initialLabwares.length>limit?initialLabwares.slice(0,limit):initialLabwares:[]),[initialLabwares,limit]),labwareMachine=react.useMemo((()=>createLabwareMachine()),[]),[current,send,service]=(0,xstate_react_esm.zl)(labwareMachine,{input:{labwares:slicedInitialLabware,foundLabwareCheck:labwareCheckFunction,limit,enableFlaggedLabwareCheck,currentBarcode:"",foundLabware:null,removedLabware:null,validator:index_esm.Yj().trim().required("Barcode is required"),successMessage:null,errorMessage:null,locationScan:!1}}),{labwares,removedLabware,successMessage,errorMessage,currentBarcode,locationScan}=current.context,inputRef=(0,react.useRef)(null),previousLabwareLength=service.getSnapshot().context.labwares.length;(0,react.useEffect)((()=>{const subscription=service.subscribe((observer=>{var _inputRef$current;observer.matches("idle")&&!observer.context.locationScan&&(null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current||_inputRef$current.focus());const currentLabwareLength=observer.context.labwares.length,labwares=observer.context.labwares;void 0!==previousLabwareLength&&(currentLabwareLength!==previousLabwareLength&&(null==onChange||onChange(labwares)),currentLabwareLength>previousLabwareLength&&(null==onAdd||onAdd(labwares[labwares.length-1])),currentLabwareLength<previousLabwareLength&&observer.context.removedLabware&&(null==onRemove||onRemove(observer.context.removedLabware.labware,observer.context.removedLabware.index)))}));return subscription.unsubscribe}),[service,onChange,onAdd,onRemove,labwares,removedLabware,previousLabwareLength]),(0,react.useEffect)((()=>{send(locked?{type:"LOCK"}:{type:"UNLOCK"})}),[send,locked]);const ctxValue={locked:current.matches("locked"),labwares,removeLabware:react.useCallback((barcode=>{send({type:"REMOVE_LABWARE",value:barcode})}),[send]),enableFlaggedLabwareCheck},handleOnScanInputChange=(0,react.useCallback)((function(e){let locationScan=arguments.length>1&&void 0!==arguments[1]&&arguments[1];send({type:"UPDATE_CURRENT_BARCODE",value:e.currentTarget.value,locationScan})}),[send]),handleOnScan=(0,react.useCallback)((()=>send({type:"SUBMIT_BARCODE"})),[send]);return(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[current.matches("idle.success")&&successMessage&&(0,jsx_runtime.jsx)(Success.A,{className:"my-2",message:successMessage}),(current.matches("idle.error")&&errorMessage||locationScan&&errorMessage)&&(0,jsx_runtime.jsx)(Warning.A,{className:"my-2",message:errorMessage}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row",children:[enableLocationScanner&&(0,jsx_runtime.jsxs)("div",{className:"sm:w-2/3 md:w-1/2 mr-4 space-y-2",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"locationScanInput",className:"w-full ml-2 font-sans font-medium text-gray-700",children:"Location:"}),(0,jsx_runtime.jsx)(ScanInput.A,{id:"locationScanInput",type:"text",value:locationScan?currentBarcode:"",disabled:!current.matches("idle"),onChange:e=>handleOnScanInputChange(e,!0),onScan:handleOnScan})]}),(0,jsx_runtime.jsxs)("div",{className:"sm:w-2/3 md:w-1/2 space-y-2",children:[enableLocationScanner&&(0,jsx_runtime.jsx)("label",{htmlFor:"labwareScanInput",className:"w-full ml-2 font-sans font-medium text-gray-700",children:"Labware:"}),(0,jsx_runtime.jsx)(ScanInput.A,{id:"labwareScanInput",type:"text",value:locationScan?"":currentBarcode,disabled:!current.matches("idle"),onChange:handleOnScanInputChange,onScan:handleOnScan,ref:inputRef})]})]}),(0,jsx_runtime.jsx)(LabwareScannerContext.Provider,{value:ctxValue,children:(0,lodash.isFunction)(children)?children(ctxValue):children})]})}const LabwareScannerContext=react.createContext({locked:!1,labwares:[],removeLabware:_barcode=>{},enableFlaggedLabwareCheck:!1});function useLabwareContext(){return(0,react.useContext)(LabwareScannerContext)}try{LabwareScanner.displayName="LabwareScanner",LabwareScanner.__docgenInfo={description:"",displayName:"LabwareScanner",props:{initialLabwares:{defaultValue:null,description:"The initial list of labwares the scanner should be displaying",name:"initialLabwares",required:!1,type:{name:"LabwareFlaggedFieldsFragment[]"}},locked:{defaultValue:{value:"false"},description:"True is the scanner should be locked; false otherwise",name:"locked",required:!1,type:{name:"boolean"}},limit:{defaultValue:null,description:"The maximum number of labware the scanner should be able to have scanned in at one time",name:"limit",required:!1,type:{name:"number"}},labwareCheckFunction:{defaultValue:null,description:"A function to check for problems with new labware because it is added",name:"labwareCheckFunction",required:!1,type:{name:"((labwares: LabwareFlaggedFieldsFragment[], foundLabware: LabwareFlaggedFieldsFragment) => string[] | Promise<string[]>)"}},onChange:{defaultValue:null,description:"Called when labware is added or removed\n@param labwares the list of current labwares",name:"onChange",required:!1,type:{name:"((labwares: LabwareFlaggedFieldsFragment[]) => void)"}},onAdd:{defaultValue:null,description:"Callback for when a labware is added\n@param labware the added labware",name:"onAdd",required:!1,type:{name:"((labware: LabwareFlaggedFieldsFragment) => void)"}},onRemove:{defaultValue:null,description:"Callback for when a labware is removed\n@param labware the removed labware\n@param index the index of the removed labware",name:"onRemove",required:!1,type:{name:"((labware: LabwareFlaggedFieldsFragment, index: number) => void)"}},children:{defaultValue:null,description:"Children can either be a react node (if using the useLabware hook)\nOr it can be a function that will have the context passed in",name:"children",required:!1,type:{name:"ReactNode | ((props: LabwareScannerContextType) => ReactNode)"}},enableLocationScanner:{defaultValue:null,description:"",name:"enableLocationScanner",required:!1,type:{name:"boolean"}},enableFlaggedLabwareCheck:{defaultValue:{value:"false"},description:"defaults to false, when set to true labwareMachine runs the FindFlaggedLabware query instead of the FindLabware query.",name:"enableFlaggedLabwareCheck",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/labwareScanner/LabwareScanner.tsx#LabwareScanner"]={docgenInfo:LabwareScanner.__docgenInfo,name:"LabwareScanner",path:"src/components/labwareScanner/LabwareScanner.tsx#LabwareScanner"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/notifications/Success.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Success=_ref=>{let{message,children,className,...rest}=_ref;const sectionClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()("flex flex-row items-start justify-between border-l-4 border-green-600 p-2 bg-green-100 text-green-800",className);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("section",{...rest,className:sectionClasses,"data-testid":"success",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-6 w-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"ml-2 flex-grow",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{className:"font-medium",children:message}),children&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"mt-2",children})]})]})},__WEBPACK_DEFAULT_EXPORT__=Success;try{Success.displayName="Success",Success.__docgenInfo={description:"Success notification component.",displayName:"Success",props:{message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/notifications/Success.tsx#Success"]={docgenInfo:Success.__docgenInfo,name:"Success",path:"src/components/notifications/Success.tsx#Success"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/notifications/Warning.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_types_stan__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/types/stan.ts"),graphql_request__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/graphql-request/build/esm/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Warning=_ref=>{var _serverErrors,_serverErrors2;let{message,error,children,className,...rest}=_ref;const sectionClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()("flex flex-row items-start justify-between border-l-4 border-orange-600 p-2 bg-orange-200 text-orange-800",className);let serverErrors;return error&&(serverErrors=error instanceof graphql_request__WEBPACK_IMPORTED_MODULE_3__.MZ?(0,_types_stan__WEBPACK_IMPORTED_MODULE_2__.UG)(error):error),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("section",{...rest,className:sectionClasses,"data-testid":"warning",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"ml-2 flex-grow",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"font-medium whitespace-pre-wrap",children:message}),(null===(_serverErrors=serverErrors)||void 0===_serverErrors?void 0:_serverErrors.message)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"mt-2",children:serverErrors.message}),(null===(_serverErrors2=serverErrors)||void 0===_serverErrors2?void 0:_serverErrors2.problems)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"mt-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("ul",{className:"list-disc list-inside",children:serverErrors.problems.map(((problem,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("li",{children:problem},index)))})}),children&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"mt-2",children})]})]})},__WEBPACK_DEFAULT_EXPORT__=Warning;try{Warning.displayName="Warning",Warning.__docgenInfo={description:"",displayName:"Warning",props:{message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"ClientError | ServerErrors | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/notifications/Warning.tsx#Warning"]={docgenInfo:Warning.__docgenInfo,name:"Warning",path:"src/components/notifications/Warning.tsx#Warning"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/scanInput/ScanInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_icons_BarcodeIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/icons/BarcodeIcon.tsx"),_icons_LockIcon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons/LockIcon.tsx"),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),_forms_Label__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/forms/Label.tsx"),formik__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ScanInput=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((_ref,ref)=>{let{label,name,type="text",onScan,allowEmptyValue=!1,...inputProps}=_ref;const inputClassNames=classnames__WEBPACK_IMPORTED_MODULE_3___default()({"rounded-r-md":!(null!=inputProps&&inputProps.disabled),"border-r-0 disabled:bg-gray-100":null==inputProps?void 0:inputProps.disabled},"flex-grow-0 focus:ring-sdb-100 focus:border-sdb-100 h-10 block w-full border-gray-300 rounded-none transition duration-150 ease-in-out"),onKeyDownHandler=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((e=>{if(["Tab","Enter"].some((triggerKey=>triggerKey===e.key))){if(e.preventDefault(),""===e.currentTarget.value&&!allowEmptyValue)return;null==onScan||onScan(e.currentTarget.value)}}),[onScan,allowEmptyValue]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"flex flex-col",children:[label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_forms_Label__WEBPACK_IMPORTED_MODULE_4__.A,{name:label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_icons_BarcodeIcon__WEBPACK_IMPORTED_MODULE_1__.A,{className:"block h-5 w-5"})}),name?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(formik__WEBPACK_IMPORTED_MODULE_6__.D0,{type,"data-testid":"formInput",className:inputClassNames,name,...inputProps,onKeyDown:onKeyDownHandler})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("input",{...inputProps,ref,type,onKeyDown:onKeyDownHandler,className:inputClassNames,"data-testid":"input"}),(null==inputProps?void 0:inputProps.disabled)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-100 transition duration-150 ease-in-out text-sm",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_icons_LockIcon__WEBPACK_IMPORTED_MODULE_2__.A,{className:"block h-5 w-5 text-sp-300 transition duration-150 ease-in-out"})})]})]})})),__WEBPACK_DEFAULT_EXPORT__=ScanInput;try{ScanInput.displayName="ScanInput",ScanInput.__docgenInfo={description:"Input that will call the onScan callback on both `tab` or `enter` (one of which hopefully is what a barcode scanner has setup as its terminal character).",displayName:"ScanInput",props:{name:{defaultValue:null,description:"If name given , display a Formik input otherwise normal",name:"name",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Label to display, if any",name:"label",required:!1,type:{name:"string"}},type:{defaultValue:{value:"text"},description:"Type of input field, default is 'text'",name:"type",required:!1,type:{name:"string"}},onScan:{defaultValue:null,description:"Callback for when a barcode is scanned into the {@link ScanInput}\n@param value the current value of the input",name:"onScan",required:!1,type:{name:"((value: string) => void)"}},allowEmptyValue:{defaultValue:{value:"false"},description:"Allow empty value in input, so it can be validated from parent component",name:"allowEmptyValue",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/scanInput/ScanInput.tsx#ScanInput"]={docgenInfo:ScanInput.__docgenInfo,name:"ScanInput",path:"src/components/scanInput/ScanInput.tsx#ScanInput"})}catch(__react_docgen_typescript_loader_error){}},"./src/lib/sdk.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Uc:()=>stanCore});var graphql_request__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/graphql-request/build/esm/index.js"),js_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/js-cookie/dist/js.cookie.mjs"),_types_sdk__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/types/sdk.ts"));const graphQLClient=new graphql_request__WEBPACK_IMPORTED_MODULE_0__.l4("/graphql"),xsrf=js_cookie__WEBPACK_IMPORTED_MODULE_1__.A.get("XSRF-TOKEN");xsrf&&graphQLClient.setHeader("X-XSRF-TOKEN",xsrf);const stanCore=(0,_types_sdk__WEBPACK_IMPORTED_MODULE_3__.xMG)(graphQLClient)}}]);